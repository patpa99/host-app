{"version":3,"file":"import-map-overrides.js","sources":["../src/util/includes.js","../src/util/url-parameter.js","../src/api/js-api.js","../src/util/string-regex.js","../node_modules/.pnpm/style-inject@0.3.0/node_modules/style-inject/dist/style-inject.es.js","../node_modules/.pnpm/preact@10.5.7/node_modules/preact/dist/preact.module.js","../src/ui/list/module-dialog.component.js","../src/ui/list/external-importmap-dialog.component.js","../src/ui/dev-lib-overrides.component.js","../src/ui/list/list.component.js","../src/ui/popup.component.js","../src/ui/full-ui.component.js","../src/ui/custom-elements.js"],"sourcesContent":["export function includes(obj, item) {\n  if (Array.isArray(obj)) {\n    for (let i = 0; i < obj.length; i++) {\n      if (obj[i] === item) {\n        return true;\n      }\n    }\n    return false;\n  } else if (typeof obj === \"string\") {\n    return obj.indexOf(item) >= 0;\n  } else {\n    throw Error(`Can't call includes on ${typeof obj}`);\n  }\n}\n","// https://stackoverflow.com/questions/901115/how-can-i-get-query-string-values-in-javascript\nexport function getParameterByName(name, url = window.location.href) {\n  name = name.replace(/[\\[\\]]/g, \"\\\\$&\");\n  var regex = new RegExp(\"[?&]\" + name + \"(=([^&#]*)|&|#|$)\"),\n    results = regex.exec(url);\n  if (!results) return null;\n  if (!results[2]) return \"\";\n  return decodeURIComponent(results[2].replace(/\\+/g, \" \"));\n}\n","import { escapeStringRegexp } from \"../util/string-regex\";\nimport { includes } from \"../util/includes.js\";\nimport { getParameterByName } from \"../util/url-parameter\";\n\nconst localStoragePrefix = \"import-map-override:\";\nconst disabledOverridesLocalStorageKey = \"import-map-overrides-disabled\";\nconst externalOverridesLocalStorageKey = \"import-map-overrides-external-maps\";\nconst overrideAttribute = \"data-is-importmap-override\";\nconst domainsMeta = \"import-map-overrides-domains\";\nconst allowListPrefix = \"allowlist:\";\nconst denyListPrefix = \"denylist:\";\nexport const queryParamOverridesName = \"imo\";\n\nconst portRegex = /^\\d+$/g;\n\nconst importMapMetaElement = document.querySelector(\n  'meta[name=\"importmap-type\"]'\n);\n\nconst domainsElement = document.querySelector(`meta[name=\"${domainsMeta}\"]`);\n\nconst externalOverrideMapPromises = {};\n\nexport const importMapType = importMapMetaElement\n  ? importMapMetaElement.getAttribute(\"content\")\n  : \"importmap\";\n\nexport let isDisabled;\n\nif (domainsElement) {\n  const content = domainsElement.getAttribute(\"content\");\n  if (!content) {\n    console.warn(`Invalid ${domainsMeta} meta element - content required.`);\n  }\n\n  const matchHostname = (domain) =>\n    new RegExp(escapeStringRegexp(domain).replace(\"\\\\*\", \".+\")).test(\n      window.location.hostname\n    );\n\n  if (content.indexOf(allowListPrefix) === 0) {\n    const allowedDomains = content.slice(allowListPrefix.length).split(\",\");\n    isDisabled = !allowedDomains.some(matchHostname);\n  } else if (content.indexOf(denyListPrefix) === 0) {\n    const deniedDomains = content.slice(denyListPrefix.length).split(\",\");\n    isDisabled = deniedDomains.some(matchHostname);\n  } else {\n    // eslint-disable-next-line no-console\n    console.log(\n      `Invalid ${domainsMeta} meta content attribute - must start with ${allowListPrefix} or ${denyListPrefix}`\n    );\n  }\n} else {\n  isDisabled = false;\n}\n\nif (!canAccessLocalStorage()) {\n  console.warn(\n    \"Disabling import-map-overrides, since local storage is not readable\"\n  );\n  isDisabled = true;\n}\n\nif (!isDisabled) {\n  init();\n}\n\nfunction init() {\n  const serverOverrides = importMapMetaElement\n    ? importMapMetaElement.hasAttribute(\"server-cookie\")\n    : false;\n  const serverOnly = importMapMetaElement\n    ? importMapMetaElement.hasAttribute(\"server-only\")\n    : false;\n\n  let defaultMapPromise;\n\n  window.importMapOverrides = {\n    addOverride(moduleName, url) {\n      if (portRegex.test(url)) {\n        url = imo.getUrlFromPort(moduleName, url);\n      }\n      const key = localStoragePrefix + moduleName;\n      localStorage.setItem(key, url);\n      if (serverOverrides) {\n        document.cookie = `${key}=${url}`;\n      }\n      fireChangedEvent();\n      return imo.getOverrideMap();\n    },\n    getOverrideMap(includeDisabled = false) {\n      const overrides = createEmptyImportMap();\n      const disabledOverrides = imo.getDisabledOverrides();\n\n      const setOverride = (moduleName, path) => {\n        if (includeDisabled || !(disabledOverrides.indexOf(moduleName) >= 0)) {\n          overrides.imports[moduleName] = path;\n        }\n      };\n\n      // get from localstorage\n      for (let i = 0; i < localStorage.length; i++) {\n        const key = localStorage.key(i);\n        if (key.indexOf(localStoragePrefix) === 0) {\n          setOverride(\n            key.slice(localStoragePrefix.length),\n            localStorage.getItem(key)\n          );\n        }\n      }\n\n      // get from url if query param exist\n      const queryParam = getParameterByName(\n        queryParamOverridesName,\n        window.parent ? window.parent.location.href : window.location.href\n      );\n\n      if (queryParam) {\n        let queryParamImportMap;\n        try {\n          queryParamImportMap = JSON.parse(queryParam);\n        } catch (e) {\n          throw Error(\n            `Invalid importMap query param - text content must be json`\n          );\n        }\n        Object.keys(queryParamImportMap.imports).forEach((moduleName) => {\n          setOverride(moduleName, queryParamImportMap.imports[moduleName]);\n        });\n      }\n\n      return overrides;\n    },\n    removeOverride(moduleName) {\n      const key = localStoragePrefix + moduleName;\n      const hasItem = localStorage.getItem(key) !== null;\n      localStorage.removeItem(key);\n      if (serverOverrides) {\n        document.cookie = `${key}=; expires=Thu, 01 Jan 1970 00:00:01 GMT;`;\n      }\n      imo.enableOverride(moduleName);\n      fireChangedEvent();\n      return hasItem;\n    },\n    resetOverrides() {\n      Object.keys(imo.getOverrideMap(true).imports).forEach((moduleName) => {\n        imo.removeOverride(moduleName);\n      });\n      localStorage.removeItem(disabledOverridesLocalStorageKey);\n      localStorage.removeItem(externalOverridesLocalStorageKey);\n      fireChangedEvent();\n      return imo.getOverrideMap();\n    },\n    hasOverrides() {\n      return Object.keys(imo.getOverrideMap().imports).length > 0;\n    },\n    getUrlFromPort(moduleName, port) {\n      const fileName = moduleName.replace(/@/g, \"\").replace(/\\//g, \"-\");\n      return `//localhost:${port}/${fileName}.js`;\n    },\n    enableUI() {\n      const customElementName = \"import-map-overrides-full\";\n      const showWhenLocalStorage = \"show-when-local-storage\";\n      let customElement = document.querySelector(customElementName);\n\n      if (!customElement) {\n        customElement = document.createElement(customElementName);\n        customElement.setAttribute(showWhenLocalStorage, \"true\");\n        document.body.appendChild(customElement);\n      }\n\n      const localStorageKey = customElement.getAttribute(showWhenLocalStorage);\n      if (localStorageKey) {\n        localStorage.setItem(localStorageKey, true);\n        customElement.renderWithPreact();\n      }\n    },\n    mergeImportMap(originalMap, newMap) {\n      const outMap = createEmptyImportMap();\n      for (let i in originalMap.imports) {\n        outMap.imports[i] = originalMap.imports[i];\n      }\n      for (let i in newMap.imports) {\n        outMap.imports[i] = newMap.imports[i];\n      }\n      for (let i in originalMap.scopes) {\n        outMap.scopes[i] = originalMap.scopes[i];\n      }\n      for (let i in newMap.scopes) {\n        outMap.scopes[i] = newMap.scopes[i];\n      }\n      return outMap;\n    },\n    getDefaultMap() {\n      return (\n        defaultMapPromise ||\n        (defaultMapPromise = Array.prototype.reduce.call(\n          document.querySelectorAll(\n            `script[type=\"${importMapType}\"], script[type=\"overridable-importmap\"]`\n          ),\n          (promise, scriptEl) => {\n            if (scriptEl.hasAttribute(overrideAttribute)) {\n              return promise;\n            } else {\n              let nextPromise;\n              if (scriptEl.src) {\n                nextPromise = fetchExternalMap(scriptEl.src);\n              } else {\n                nextPromise = Promise.resolve(JSON.parse(scriptEl.textContent));\n              }\n\n              return Promise.all([\n                promise,\n                nextPromise,\n              ]).then(([originalMap, newMap]) =>\n                imo.mergeImportMap(originalMap, newMap)\n              );\n            }\n          },\n          Promise.resolve(createEmptyImportMap())\n        ))\n      );\n    },\n    getCurrentPageMap() {\n      return Promise.all([\n        imo.getDefaultMap(),\n        imo.getExternalOverrideMap(imo.getCurrentPageExternalOverrides()),\n      ]).then(([defaultMap, externalOverridesMap]) => {\n        return imo.mergeImportMap(\n          imo.mergeImportMap(defaultMap, externalOverridesMap),\n          initialOverrideMap\n        );\n      });\n    },\n    getCurrentPageExternalOverrides() {\n      const currentPageExternalOverrides = [];\n      document\n        .querySelectorAll(\n          `[${overrideAttribute}]:not([id=\"import-map-overrides\"])`\n        )\n        .forEach((externalOverrideEl) => {\n          currentPageExternalOverrides.push(externalOverrideEl.src);\n        });\n      return currentPageExternalOverrides;\n    },\n    getNextPageMap() {\n      return Promise.all([\n        imo.getDefaultMap(),\n        imo.getExternalOverrideMap(),\n      ]).then(([defaultMap, externalOverridesMap]) => {\n        return imo.mergeImportMap(\n          imo.mergeImportMap(defaultMap, externalOverridesMap),\n          imo.getOverrideMap()\n        );\n      });\n    },\n    disableOverride(moduleName) {\n      const disabledOverrides = imo.getDisabledOverrides();\n      if (!includes(disabledOverrides, moduleName)) {\n        localStorage.setItem(\n          disabledOverridesLocalStorageKey,\n          JSON.stringify(disabledOverrides.concat(moduleName))\n        );\n        fireChangedEvent();\n        return true;\n      } else {\n        return false;\n      }\n    },\n    enableOverride(moduleName) {\n      const disabledOverrides = imo.getDisabledOverrides();\n      const index = disabledOverrides.indexOf(moduleName);\n      if (index >= 0) {\n        disabledOverrides.splice(index, 1);\n        localStorage.setItem(\n          disabledOverridesLocalStorageKey,\n          JSON.stringify(disabledOverrides)\n        );\n        fireChangedEvent();\n        return true;\n      } else {\n        return false;\n      }\n    },\n    getDisabledOverrides() {\n      const disabledOverrides = localStorage.getItem(\n        disabledOverridesLocalStorageKey\n      );\n      return disabledOverrides ? JSON.parse(disabledOverrides) : [];\n    },\n    isDisabled(moduleName) {\n      return includes(imo.getDisabledOverrides(), moduleName);\n    },\n    getExternalOverrides() {\n      let localStorageValue = localStorage.getItem(\n        externalOverridesLocalStorageKey\n      );\n      return localStorageValue ? JSON.parse(localStorageValue).sort() : [];\n    },\n    addExternalOverride(url) {\n      url = new URL(url, document.baseURI).href;\n      const overrides = imo.getExternalOverrides();\n      if (includes(overrides, url)) {\n        return false;\n      } else {\n        localStorage.setItem(\n          externalOverridesLocalStorageKey,\n          JSON.stringify(overrides.concat(url))\n        );\n        fireChangedEvent();\n        return true;\n      }\n    },\n    removeExternalOverride(url) {\n      const overrides = imo.getExternalOverrides();\n      if (includes(overrides, url)) {\n        localStorage.setItem(\n          externalOverridesLocalStorageKey,\n          JSON.stringify(overrides.filter((override) => override !== url))\n        );\n        fireChangedEvent();\n        return true;\n      } else {\n        return false;\n      }\n    },\n    getExternalOverrideMap(externalOverrides = imo.getExternalOverrides()) {\n      return externalOverrides.reduce((result, externalOverride) => {\n        const fetchPromise =\n          externalOverrideMapPromises[externalOverride] ||\n          (externalOverrideMapPromises[externalOverride] = fetchExternalMap(\n            externalOverride\n          ));\n        return Promise.all([result, fetchPromise]).then(\n          ([firstMap, secondMap]) => {\n            return imo.mergeImportMap(firstMap, secondMap);\n          }\n        );\n      }, Promise.resolve(createEmptyImportMap()));\n    },\n    isExternalMapValid(importMapUrl) {\n      const promise =\n        externalOverrideMapPromises[importMapUrl] ||\n        (externalOverrideMapPromises[importMapUrl] = fetchExternalMap(\n          importMapUrl\n        ));\n      return promise.then(() =>\n        includes(imo.invalidExternalMaps, importMapUrl)\n      );\n    },\n    invalidExternalMaps: [],\n  };\n\n  const imo = window.importMapOverrides;\n\n  let canFireCustomEvents = true;\n  try {\n    if (CustomEvent) {\n      new CustomEvent(\"a\");\n    } else {\n      canFireCustomEvents = false;\n    }\n  } catch (err) {\n    canFireCustomEvents = false;\n  }\n\n  function fireChangedEvent() {\n    // Set timeout so that event fires after the change has totally finished\n    setTimeout(() => {\n      if (canFireCustomEvents) {\n        window.dispatchEvent(new CustomEvent(\"import-map-overrides:change\"));\n      }\n    });\n  }\n\n  const initialOverrideMap = imo.getOverrideMap();\n  const initialExternalOverrideMaps = imo.getExternalOverrides();\n\n  let referenceNode;\n\n  if (!serverOnly) {\n    const overridableImportMap = document.querySelector(\n      'script[type=\"overridable-importmap\"]'\n    );\n\n    referenceNode = overridableImportMap;\n\n    if (!referenceNode) {\n      const importMaps = document.querySelectorAll(\n        `script[type=\"${importMapType}\"]`\n      );\n      referenceNode = importMaps ? importMaps[importMaps.length - 1] : null;\n    }\n\n    if (overridableImportMap) {\n      if (overridableImportMap.src) {\n        throw Error(\n          `import-map-overrides: external import maps with type=\"overridable-importmap\" are not supported`\n        );\n      }\n      let originalMap;\n      try {\n        originalMap = JSON.parse(overridableImportMap.textContent);\n      } catch (e) {\n        throw Error(\n          `Invalid <script type=\"overridable-importmap\"> - text content must be json`\n        );\n      }\n\n      referenceNode = insertOverrideMap(\n        imo.mergeImportMap(originalMap, initialOverrideMap),\n        `import-map-overrides`,\n        referenceNode\n      );\n      insertAllExternalOverrideMaps();\n    } else {\n      insertAllExternalOverrideMaps();\n      if (Object.keys(initialOverrideMap.imports).length > 0) {\n        referenceNode = insertOverrideMap(\n          initialOverrideMap,\n          `import-map-overrides`,\n          referenceNode\n        );\n      }\n    }\n  }\n\n  function insertOverrideMap(map, id, referenceNode) {\n    const overrideMapElement = document.createElement(\"script\");\n    overrideMapElement.type = importMapType;\n    overrideMapElement.id = id; // for debugging and for UI to identify this import map as special\n    overrideMapElement.setAttribute(overrideAttribute, \"\");\n    if (typeof map === \"string\") {\n      overrideMapElement.src = map;\n    } else {\n      overrideMapElement.textContent = JSON.stringify(map, null, 2);\n    }\n\n    if (referenceNode) {\n      referenceNode.insertAdjacentElement(\"afterend\", overrideMapElement);\n    } else {\n      document.head.appendChild(overrideMapElement);\n    }\n\n    return overrideMapElement;\n  }\n\n  function fetchExternalMap(url) {\n    return fetch(url).then(\n      (r) => {\n        if (r.ok) {\n          return r.json().catch((err) => {\n            console.warn(\n              Error(\n                `External override import map contained invalid json, at url ${r.url}. ${err}`\n              )\n            );\n            imo.invalidExternalMaps.push(r.url);\n            return createEmptyImportMap();\n          });\n        } else {\n          console.warn(\n            Error(\n              `Unable to download external override import map from url ${r.url}. Server responded with status ${r.status}`\n            )\n          );\n          imo.invalidExternalMaps.push(r.url);\n          return createEmptyImportMap();\n        }\n      },\n      () => {\n        console.warn(\n          Error(`Unable to download external import map at url '${url}'`)\n        );\n        imo.invalidExternalMaps.push(new URL(url, document.baseURI).href);\n        return createEmptyImportMap();\n      }\n    );\n  }\n\n  function createEmptyImportMap() {\n    return { imports: {}, scopes: {} };\n  }\n\n  function insertAllExternalOverrideMaps() {\n    if (initialExternalOverrideMaps.length > 0) {\n      initialExternalOverrideMaps.forEach((mapUrl, index) => {\n        referenceNode = insertOverrideMap(\n          mapUrl,\n          `import-map-overrides-external-${index}`\n        );\n      });\n    }\n  }\n}\n\nfunction canAccessLocalStorage() {\n  try {\n    localStorage.getItem(\"test\");\n    return true;\n  } catch {\n    return false;\n  }\n}\n","// from https://github.com/sindresorhus/escape-string-regexp\nexport const escapeStringRegexp = (string) => {\n  if (typeof string !== \"string\") {\n    throw new TypeError(\"Expected a string\");\n  }\n\n  // Escape characters with special meaning either inside or outside character sets.\n  // Use a simple backslash escape when it’s always valid, and a `\\xnn` escape when the simpler form would be disallowed by Unicode patterns’ stricter grammar.\n  return string.replace(/[|\\\\{}()[\\]^$+*?.]/g, \"\\\\$&\").replace(/-/g, \"\\\\x2d\");\n};\n","function styleInject(css, ref) {\n  if ( ref === void 0 ) ref = {};\n  var insertAt = ref.insertAt;\n\n  if (!css || typeof document === 'undefined') { return; }\n\n  var head = document.head || document.getElementsByTagName('head')[0];\n  var style = document.createElement('style');\n  style.type = 'text/css';\n\n  if (insertAt === 'top') {\n    if (head.firstChild) {\n      head.insertBefore(style, head.firstChild);\n    } else {\n      head.appendChild(style);\n    }\n  } else {\n    head.appendChild(style);\n  }\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nexport default styleInject;\n","var n,l,u,i,t,o,r,f={},e=[],c=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function s(n,l){for(var u in l)n[u]=l[u];return n}function a(n){var l=n.parentNode;l&&l.removeChild(n)}function v(n,l,u){var i,t,o,r=arguments,f={};for(o in l)\"key\"==o?i=l[o]:\"ref\"==o?t=l[o]:f[o]=l[o];if(arguments.length>3)for(u=[u],o=3;o<arguments.length;o++)u.push(r[o]);if(null!=u&&(f.children=u),\"function\"==typeof n&&null!=n.defaultProps)for(o in n.defaultProps)void 0===f[o]&&(f[o]=n.defaultProps[o]);return h(n,f,i,t,null)}function h(l,u,i,t,o){var r={type:l,props:u,key:i,ref:t,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:null==o?++n.__v:o};return null!=n.vnode&&n.vnode(r),r}function y(){return{current:null}}function p(n){return n.children}function d(n,l){this.props=n,this.context=l}function _(n,l){if(null==l)return n.__?_(n.__,n.__.__k.indexOf(n)+1):null;for(var u;l<n.__k.length;l++)if(null!=(u=n.__k[l])&&null!=u.__e)return u.__e;return\"function\"==typeof n.type?_(n):null}function w(n){var l,u;if(null!=(n=n.__)&&null!=n.__c){for(n.__e=n.__c.base=null,l=0;l<n.__k.length;l++)if(null!=(u=n.__k[l])&&null!=u.__e){n.__e=n.__c.base=u.__e;break}return w(n)}}function k(l){(!l.__d&&(l.__d=!0)&&u.push(l)&&!g.__r++||t!==n.debounceRendering)&&((t=n.debounceRendering)||i)(g)}function g(){for(var n;g.__r=u.length;)n=u.sort(function(n,l){return n.__v.__b-l.__v.__b}),u=[],n.some(function(n){var l,u,i,t,o,r,f;n.__d&&(r=(o=(l=n).__v).__e,(f=l.__P)&&(u=[],(i=s({},o)).__v=o.__v+1,t=$(f,o,i,l.__n,void 0!==f.ownerSVGElement,null!=o.__h?[r]:null,u,null==r?_(o):r,o.__h),j(u,o),t!=r&&w(o)))})}function m(n,l,u,i,t,o,r,c,s,v){var y,d,w,k,g,m,b,A=i&&i.__k||e,P=A.length;for(s==f&&(s=null!=r?r[0]:P?_(i,0):null),u.__k=[],y=0;y<l.length;y++)if(null!=(k=u.__k[y]=null==(k=l[y])||\"boolean\"==typeof k?null:\"string\"==typeof k||\"number\"==typeof k?h(null,k,null,null,k):Array.isArray(k)?h(p,{children:k},null,null,null):null!=k.__e||null!=k.__c?h(k.type,k.props,k.key,null,k.__v):k)){if(k.__=u,k.__b=u.__b+1,null===(w=A[y])||w&&k.key==w.key&&k.type===w.type)A[y]=void 0;else for(d=0;d<P;d++){if((w=A[d])&&k.key==w.key&&k.type===w.type){A[d]=void 0;break}w=null}g=$(n,k,w=w||f,t,o,r,c,s,v),(d=k.ref)&&w.ref!=d&&(b||(b=[]),w.ref&&b.push(w.ref,null,k),b.push(d,k.__c||g,k)),null!=g?(null==m&&(m=g),s=x(n,k,w,A,r,g,s),v||\"option\"!=u.type?\"function\"==typeof u.type&&(u.__d=s):n.value=\"\"):s&&w.__e==s&&s.parentNode!=n&&(s=_(w))}if(u.__e=m,null!=r&&\"function\"!=typeof u.type)for(y=r.length;y--;)null!=r[y]&&a(r[y]);for(y=P;y--;)null!=A[y]&&L(A[y],A[y]);if(b)for(y=0;y<b.length;y++)I(b[y],b[++y],b[++y])}function b(n,l){return l=l||[],null==n||\"boolean\"==typeof n||(Array.isArray(n)?n.some(function(n){b(n,l)}):l.push(n)),l}function x(n,l,u,i,t,o,r){var f,e,c;if(void 0!==l.__d)f=l.__d,l.__d=void 0;else if(t==u||o!=r||null==o.parentNode)n:if(null==r||r.parentNode!==n)n.appendChild(o),f=null;else{for(e=r,c=0;(e=e.nextSibling)&&c<i.length;c+=2)if(e==o)break n;n.insertBefore(o,r),f=r}return void 0!==f?f:o.nextSibling}function A(n,l,u,i,t){var o;for(o in u)\"children\"===o||\"key\"===o||o in l||C(n,o,null,u[o],i);for(o in l)t&&\"function\"!=typeof l[o]||\"children\"===o||\"key\"===o||\"value\"===o||\"checked\"===o||u[o]===l[o]||C(n,o,l[o],u[o],i)}function P(n,l,u){\"-\"===l[0]?n.setProperty(l,u):n[l]=null==u?\"\":\"number\"!=typeof u||c.test(l)?u:u+\"px\"}function C(n,l,u,i,t){var o,r,f;if(t&&\"className\"==l&&(l=\"class\"),\"style\"===l)if(\"string\"==typeof u)n.style.cssText=u;else{if(\"string\"==typeof i&&(n.style.cssText=i=\"\"),i)for(l in i)u&&l in u||P(n.style,l,\"\");if(u)for(l in u)i&&u[l]===i[l]||P(n.style,l,u[l])}else\"o\"===l[0]&&\"n\"===l[1]?(o=l!==(l=l.replace(/Capture$/,\"\")),(r=l.toLowerCase())in n&&(l=r),l=l.slice(2),n.l||(n.l={}),n.l[l+o]=u,f=o?N:z,u?i||n.addEventListener(l,f,o):n.removeEventListener(l,f,o)):\"list\"!==l&&\"tagName\"!==l&&\"form\"!==l&&\"type\"!==l&&\"size\"!==l&&\"download\"!==l&&\"href\"!==l&&!t&&l in n?n[l]=null==u?\"\":u:\"function\"!=typeof u&&\"dangerouslySetInnerHTML\"!==l&&(l!==(l=l.replace(/xlink:?/,\"\"))?null==u||!1===u?n.removeAttributeNS(\"http://www.w3.org/1999/xlink\",l.toLowerCase()):n.setAttributeNS(\"http://www.w3.org/1999/xlink\",l.toLowerCase(),u):null==u||!1===u&&!/^ar/.test(l)?n.removeAttribute(l):n.setAttribute(l,u))}function z(l){this.l[l.type+!1](n.event?n.event(l):l)}function N(l){this.l[l.type+!0](n.event?n.event(l):l)}function T(n,l,u){var i,t;for(i=0;i<n.__k.length;i++)(t=n.__k[i])&&(t.__=n,t.__e&&(\"function\"==typeof t.type&&t.__k.length>1&&T(t,l,u),l=x(u,t,t,n.__k,null,t.__e,l),\"function\"==typeof n.type&&(n.__d=l)))}function $(l,u,i,t,o,r,f,e,c){var a,v,h,y,_,w,k,g,b,x,A,P=u.type;if(void 0!==u.constructor)return null;null!=i.__h&&(c=i.__h,e=u.__e=i.__e,u.__h=null,r=[e]),(a=n.__b)&&a(u);try{n:if(\"function\"==typeof P){if(g=u.props,b=(a=P.contextType)&&t[a.__c],x=a?b?b.props.value:a.__:t,i.__c?k=(v=u.__c=i.__c).__=v.__E:(\"prototype\"in P&&P.prototype.render?u.__c=v=new P(g,x):(u.__c=v=new d(g,x),v.constructor=P,v.render=M),b&&b.sub(v),v.props=g,v.state||(v.state={}),v.context=x,v.__n=t,h=v.__d=!0,v.__h=[]),null==v.__s&&(v.__s=v.state),null!=P.getDerivedStateFromProps&&(v.__s==v.state&&(v.__s=s({},v.__s)),s(v.__s,P.getDerivedStateFromProps(g,v.__s))),y=v.props,_=v.state,h)null==P.getDerivedStateFromProps&&null!=v.componentWillMount&&v.componentWillMount(),null!=v.componentDidMount&&v.__h.push(v.componentDidMount);else{if(null==P.getDerivedStateFromProps&&g!==y&&null!=v.componentWillReceiveProps&&v.componentWillReceiveProps(g,x),!v.__e&&null!=v.shouldComponentUpdate&&!1===v.shouldComponentUpdate(g,v.__s,x)||u.__v===i.__v){v.props=g,v.state=v.__s,u.__v!==i.__v&&(v.__d=!1),v.__v=u,u.__e=i.__e,u.__k=i.__k,v.__h.length&&f.push(v),T(u,e,l);break n}null!=v.componentWillUpdate&&v.componentWillUpdate(g,v.__s,x),null!=v.componentDidUpdate&&v.__h.push(function(){v.componentDidUpdate(y,_,w)})}v.context=x,v.props=g,v.state=v.__s,(a=n.__r)&&a(u),v.__d=!1,v.__v=u,v.__P=l,a=v.render(v.props,v.state,v.context),v.state=v.__s,null!=v.getChildContext&&(t=s(s({},t),v.getChildContext())),h||null==v.getSnapshotBeforeUpdate||(w=v.getSnapshotBeforeUpdate(y,_)),A=null!=a&&a.type==p&&null==a.key?a.props.children:a,m(l,Array.isArray(A)?A:[A],u,i,t,o,r,f,e,c),v.base=u.__e,u.__h=null,v.__h.length&&f.push(v),k&&(v.__E=v.__=null),v.__e=!1}else null==r&&u.__v===i.__v?(u.__k=i.__k,u.__e=i.__e):u.__e=H(i.__e,u,i,t,o,r,f,c);(a=n.diffed)&&a(u)}catch(l){u.__v=null,(c||null!=r)&&(u.__e=e,u.__h=!!c,r[r.indexOf(e)]=null),n.__e(l,u,i)}return u.__e}function j(l,u){n.__c&&n.__c(u,l),l.some(function(u){try{l=u.__h,u.__h=[],l.some(function(n){n.call(u)})}catch(l){n.__e(l,u.__v)}})}function H(n,l,u,i,t,o,r,c){var s,a,v,h,y,p=u.props,d=l.props;if(t=\"svg\"===l.type||t,null!=o)for(s=0;s<o.length;s++)if(null!=(a=o[s])&&((null===l.type?3===a.nodeType:a.localName===l.type)||n==a)){n=a,o[s]=null;break}if(null==n){if(null===l.type)return document.createTextNode(d);n=t?document.createElementNS(\"http://www.w3.org/2000/svg\",l.type):document.createElement(l.type,d.is&&{is:d.is}),o=null,c=!1}if(null===l.type)p===d||c&&n.data===d||(n.data=d);else{if(null!=o&&(o=e.slice.call(n.childNodes)),v=(p=u.props||f).dangerouslySetInnerHTML,h=d.dangerouslySetInnerHTML,!c){if(null!=o)for(p={},y=0;y<n.attributes.length;y++)p[n.attributes[y].name]=n.attributes[y].value;(h||v)&&(h&&(v&&h.__html==v.__html||h.__html===n.innerHTML)||(n.innerHTML=h&&h.__html||\"\"))}A(n,d,p,t,c),h?l.__k=[]:(s=l.props.children,m(n,Array.isArray(s)?s:[s],l,u,i,\"foreignObject\"!==l.type&&t,o,r,f,c)),c||(\"value\"in d&&void 0!==(s=d.value)&&(s!==n.value||\"progress\"===l.type&&!s)&&C(n,\"value\",s,p.value,!1),\"checked\"in d&&void 0!==(s=d.checked)&&s!==n.checked&&C(n,\"checked\",s,p.checked,!1))}return n}function I(l,u,i){try{\"function\"==typeof l?l(u):l.current=u}catch(l){n.__e(l,i)}}function L(l,u,i){var t,o,r;if(n.unmount&&n.unmount(l),(t=l.ref)&&(t.current&&t.current!==l.__e||I(t,null,u)),i||\"function\"==typeof l.type||(i=null!=(o=l.__e)),l.__e=l.__d=void 0,null!=(t=l.__c)){if(t.componentWillUnmount)try{t.componentWillUnmount()}catch(l){n.__e(l,u)}t.base=t.__P=null}if(t=l.__k)for(r=0;r<t.length;r++)t[r]&&L(t[r],u,i);null!=o&&a(o)}function M(n,l,u){return this.constructor(n,u)}function O(l,u,i){var t,r,c;n.__&&n.__(l,u),r=(t=i===o)?null:i&&i.__k||u.__k,l=v(p,null,[l]),c=[],$(u,(t?u:i||u).__k=l,r||f,f,void 0!==u.ownerSVGElement,i&&!t?[i]:r?null:u.childNodes.length?e.slice.call(u.childNodes):null,c,i||f,t),j(c,l)}function S(n,l){O(n,l,o)}function q(n,l,u){var i,t,o,r=arguments,f=s({},n.props);for(o in l)\"key\"==o?i=l[o]:\"ref\"==o?t=l[o]:f[o]=l[o];if(arguments.length>3)for(u=[u],o=3;o<arguments.length;o++)u.push(r[o]);return null!=u&&(f.children=u),h(n.type,f,i||n.key,t||n.ref,null)}function B(n,l){var u={__c:l=\"__cC\"+r++,__:n,Consumer:function(n,l){return n.children(l)},Provider:function(n,u,i){return this.getChildContext||(u=[],(i={})[l]=this,this.getChildContext=function(){return i},this.shouldComponentUpdate=function(n){this.props.value!==n.value&&u.some(k)},this.sub=function(n){u.push(n);var l=n.componentWillUnmount;n.componentWillUnmount=function(){u.splice(u.indexOf(n),1),l&&l.call(n)}}),n.children}};return u.Provider.__=u.Consumer.contextType=u}n={__e:function(n,l){for(var u,i,t,o=l.__h;l=l.__;)if((u=l.__c)&&!u.__)try{if((i=u.constructor)&&null!=i.getDerivedStateFromError&&(u.setState(i.getDerivedStateFromError(n)),t=u.__d),null!=u.componentDidCatch&&(u.componentDidCatch(n),t=u.__d),t)return l.__h=o,u.__E=u}catch(l){n=l}throw n},__v:0},l=function(n){return null!=n&&void 0===n.constructor},d.prototype.setState=function(n,l){var u;u=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=s({},this.state),\"function\"==typeof n&&(n=n(s({},u),this.props)),n&&s(u,n),null!=n&&this.__v&&(l&&this.__h.push(l),k(this))},d.prototype.forceUpdate=function(n){this.__v&&(this.__e=!0,n&&this.__h.push(n),k(this))},d.prototype.render=p,u=[],i=\"function\"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,g.__r=0,o=f,r=0;export{O as render,S as hydrate,v as createElement,v as h,p as Fragment,y as createRef,l as isValidElement,d as Component,q as cloneElement,B as createContext,b as toChildArray,L as __u,n as options};\n//# sourceMappingURL=preact.module.js.map\n","import { h, Component } from \"preact\";\n\nexport default class ModuleDialog extends Component {\n  getInitialOverrideUrl = () => {\n    const regex = new RegExp(`//localhost:([0-9]+)/`);\n    const match = regex.exec(this.props.module.overrideUrl);\n    if (\n      match &&\n      this.props.module.overrideUrl ===\n        window.importMapOverrides.getUrlFromPort(\n          this.props.module.moduleName,\n          match[1]\n        )\n    ) {\n      return match[1];\n    } else if (this.props.module.overrideUrl) {\n      return this.props.module.overrideUrl;\n    } else {\n      return \"\";\n    }\n  };\n  state = {\n    overrideUrl: this.getInitialOverrideUrl(),\n    moduleName: \"\",\n  };\n  inputEl = null;\n  moduleNameEl = null;\n  componentDidMount() {\n    this.focusFirstInput();\n    this.dialogEl.addEventListener(\"keydown\", this.keyDown);\n  }\n  componentDidUpdate(prevProps, prevState) {\n    if (this.props.module !== prevProps.module) {\n      this.setState(\n        { overrideUrl: this.props.module.overrideUrl || \"\" },\n        () => {\n          this.focusFirstInput();\n        }\n      );\n    }\n  }\n  componentWillUnmount() {\n    this.dialogEl.removeEventListener(\"keydown\", this.keyDown);\n  }\n  render({ module }) {\n    return (\n      <div className=\"imo-modal-container\">\n        <div className=\"imo-modal\" />\n        <dialog\n          className={`imo-module-dialog ${\n            this.state.overrideUrl.length > 0 ? \"imo-overridden\" : \"imo-default\"\n          }`}\n          open\n          ref={this.dialogRef}\n        >\n          <form method=\"dialog\" onSubmit={this.handleSubmit}>\n            <h3 style={{ marginTop: 0 }}>{module.moduleName}</h3>\n            <table>\n              <tbody>\n                {!module.isNew && (\n                  <tr>\n                    <td>Default URL:</td>\n                    <td>{module.defaultUrl}</td>\n                  </tr>\n                )}\n                {module.isNew && (\n                  <tr>\n                    <td>\n                      <span id=\"module-name-label\">Module Name:</span>\n                    </td>\n                    <td style={{ position: \"relative\" }}>\n                      <input\n                        type=\"text\"\n                        tabIndex={1}\n                        value={this.state.moduleName}\n                        aria-labelledby=\"module-name-label\"\n                        onInput={(evt) =>\n                          this.setState({ moduleName: evt.target.value })\n                        }\n                        ref={this.handleModuleNameRef}\n                        required\n                      />\n                      <div\n                        role=\"button\"\n                        tabIndex={3}\n                        className=\"imo-clear-input\"\n                        onClick={this.clearModuleName}\n                      >\n                        <div>{\"\\u24E7\"}</div>\n                      </div>\n                    </td>\n                  </tr>\n                )}\n                <tr>\n                  <td>\n                    <span id=\"override-url-label\">Override URL:</span>\n                  </td>\n                  <td style={{ position: \"relative\" }}>\n                    <input\n                      ref={this.handleInputRef}\n                      type=\"text\"\n                      value={this.state.overrideUrl}\n                      aria-labelledby=\"override-url-label\"\n                      tabIndex={2}\n                      onInput={(evt) =>\n                        this.setState({ overrideUrl: evt.target.value })\n                      }\n                    />\n                    <div\n                      role=\"button\"\n                      tabIndex={4}\n                      className=\"imo-clear-input\"\n                      onClick={this.clearInput}\n                    >\n                      <div>{\"\\u24E7\"}</div>\n                    </div>\n                  </td>\n                </tr>\n                {portRegex.test(this.state.overrideUrl) && (\n                  <tr>\n                    <td>Derived url:</td>\n                    <td>{this.getDerivedUrl()}</td>\n                  </tr>\n                )}\n              </tbody>\n            </table>\n            <div className=\"imo-dialog-actions\">\n              <button\n                type=\"button\"\n                tabIndex={5}\n                onClick={this.props.cancel}\n                style={{ marginRight: \"16px\" }}\n              >\n                Cancel\n              </button>\n              {this.props.module.overrideUrl && !this.props.module.disabled && (\n                <button\n                  type=\"button\"\n                  onClick={() => {\n                    if (this.props.module.disabled) {\n                      window.importMapOverrides.enableOverride(\n                        this.props.module.moduleName\n                      );\n                    } else {\n                      window.importMapOverrides.disableOverride(\n                        this.props.module.moduleName\n                      );\n                    }\n                    this.props.cancel();\n                  }}\n                  tabIndex={6}\n                  style={{ marginRight: \"16px\" }}\n                >\n                  {this.props.module.disabled ? \"Enable\" : \"Disable\"} Override\n                </button>\n              )}\n              <button\n                type=\"submit\"\n                tabIndex={7}\n                className={\n                  this.state.overrideUrl ? \"imo-overridden\" : \"imo-default\"\n                }\n              >\n                {this.state.overrideUrl ? \"Apply override\" : \"Reset to default\"}\n              </button>\n            </div>\n          </form>\n        </dialog>\n      </div>\n    );\n  }\n\n  handleInputRef = (el) => {\n    this.inputEl = el;\n  };\n\n  handleModuleNameRef = (el) => {\n    this.moduleNameEl = el;\n  };\n\n  dialogRef = (el) => {\n    this.dialogEl = el;\n  };\n\n  handleSubmit = (evt) => {\n    evt.preventDefault();\n    if (\n      this.props.module.moduleName &&\n      window.importMapOverrides.isDisabled(this.props.module.moduleName)\n    ) {\n      window.importMapOverrides.enableOverride(this.props.module.moduleName);\n    }\n    if (this.props.module.isNew) {\n      this.props.addNewModule(this.state.moduleName, this.state.overrideUrl);\n    } else {\n      this.props.updateModuleUrl(this.state.overrideUrl);\n    }\n  };\n\n  getDerivedUrl = () => {\n    const moduleName = this.props.module.isNew\n      ? this.state.moduleName\n      : this.props.module.moduleName;\n    return portRegex.test(this.state.overrideUrl)\n      ? window.importMapOverrides.getUrlFromPort(\n          moduleName,\n          this.state.overrideUrl\n        )\n      : this.state.overrideUrl;\n  };\n\n  keyDown = (evt) => {\n    if (evt.key === \"Escape\") {\n      evt.stopPropagation();\n      this.props.cancel();\n    }\n  };\n\n  focusFirstInput = () => {\n    const firstInput = this.moduleNameEl || this.inputEl;\n    firstInput.select();\n  };\n\n  clearModuleName = () => {\n    this.setState({ moduleName: \"\" }, () => {\n      this.focusFirstInput();\n    });\n  };\n\n  clearInput = () => {\n    this.setState({ overrideUrl: \"\" }, () => {\n      this.focusFirstInput();\n    });\n  };\n}\n\nconst portRegex = /^\\d+$/;\n","import { h, Component } from \"preact\";\n\nexport default class ExternalImportMap extends Component {\n  state = {\n    url: this.props.dialogExternalMap.isNew\n      ? \"\"\n      : this.props.dialogExternalMap.url,\n  };\n  inputEl = null;\n  componentDidMount() {\n    this.inputEl.focus();\n    this.dialogEl.addEventListener(\"keydown\", this.keyDown);\n  }\n  componentWillUnmount() {\n    this.dialogEl.removeEventListener(\"keydown\", this.keyDown);\n  }\n  render() {\n    return (\n      <div className=\"imo-modal-container\">\n        <div className=\"imo-modal\" />\n        <dialog\n          className=\"imo-module-dialog\"\n          open\n          ref={(el) => (this.dialogEl = el)}\n        >\n          <form method=\"dialog\" onSubmit={this.handleSubmit}>\n            <h3 style={{ marginTop: 0 }}>\n              {this.props.dialogExternalMap.isNew\n                ? \"Add External Import Map\"\n                : \"Edit External Import Map\"}\n            </h3>\n            <div style={{ marginBottom: \"20px\" }}>\n              <label htmlFor=\"external-importmap-url\">URL to import map:</label>\n              <span style={{ position: \"relative\" }}>\n                <input\n                  id=\"external-importmap-url\"\n                  type=\"text\"\n                  value={this.state.url}\n                  onInput={(evt) => this.setState({ url: evt.target.value })}\n                  ref={(el) => (this.inputEl = el)}\n                  required={this.props.dialogExternalMap.isNew}\n                />\n                <div\n                  role=\"button\"\n                  tabIndex={0}\n                  className=\"imo-clear-input\"\n                  onClick={() => this.setState({ url: \"\" })}\n                >\n                  <div>{\"\\u24E7\"}</div>\n                </div>\n              </span>\n            </div>\n            <div className=\"imo-dialog-actions\">\n              <button\n                type=\"button\"\n                onClick={this.props.cancel}\n                style={{ marginRight: \"16px\" }}\n              >\n                Cancel\n              </button>\n              <button\n                type=\"submit\"\n                className={this.state.url ? \"imo-overridden\" : \"imo-default\"}\n              >\n                {this.state.url || this.props.dialogExternalMap.isNew\n                  ? \"Apply override\"\n                  : \"Remove override\"}\n              </button>\n            </div>\n          </form>\n        </dialog>\n      </div>\n    );\n  }\n  handleSubmit = (evt) => {\n    evt.preventDefault();\n\n    if (!this.props.dialogExternalMap.isNew) {\n      window.importMapOverrides.removeExternalOverride(\n        this.props.dialogExternalMap.url\n      );\n    }\n\n    if (this.state.url) {\n      window.importMapOverrides.addExternalOverride(this.state.url);\n    }\n\n    this.props.cancel();\n  };\n  keyDown = (evt) => {\n    if (evt.key === \"Escape\") {\n      evt.stopPropagation();\n      this.props.cancel();\n    }\n  };\n}\n","import { h, Component } from \"preact\";\n\nexport default class DevLibOverrides extends Component {\n  componentDidMount() {\n    window.importMapOverrides.getCurrentPageMap().then(addDevLibOverrides);\n  }\n  render() {\n    return null;\n  }\n}\n\nconst removeMin = (url) => url.replace(\".min.js\", \".js\");\n\nexport const devLibs = {\n  react: (url) => url.replace(\"production.min\", \"development\"),\n  \"react-dom\": (url) => url.replace(\"production.min\", \"development\"),\n  \"single-spa\": (url) => url.replace(\"single-spa.min.js\", \"single-spa.dev.js\"),\n  vue: removeMin,\n  \"vue-router\": removeMin,\n  \"@angular/core\": removeMin,\n  \"@angular/common\": removeMin,\n  \"@angular/router\": removeMin,\n  \"@angular/platform-browser\": removeMin,\n};\n\nfunction addDevLibOverrides(notOverriddenMap) {\n  Object.keys(notOverriddenMap.imports)\n    .filter((libName) => devLibs[libName])\n    .forEach((libName) => {\n      window.importMapOverrides.addOverride(\n        libName,\n        devLibs[libName](notOverriddenMap.imports[libName])\n      );\n    });\n}\n\nexport function overridesBesidesDevLibs() {\n  return (\n    Object.keys(window.importMapOverrides.getOverrideMap().imports).filter(\n      (k) => !devLibs[k]\n    ).length > 0\n  );\n}\n","import { h, Component, render } from \"preact\";\nimport { includes } from \"../../util/includes.js\";\nimport ModuleDialog from \"./module-dialog.component\";\nimport ExternalImportMap from \"./external-importmap-dialog.component\";\nimport { devLibs } from \"../dev-lib-overrides.component\";\n\nexport default class List extends Component {\n  state = {\n    notOverriddenMap: { imports: {} },\n    currentPageMap: { imports: {} },\n    nextPageMap: { imports: {} },\n    dialogModule: null,\n    dialogExternalMap: null,\n    searchVal: \"\",\n  };\n  componentDidMount() {\n    window.importMapOverrides.getDefaultMap().then((notOverriddenMap) => {\n      this.setState({ notOverriddenMap });\n    });\n    window.importMapOverrides.getCurrentPageMap().then((currentPageMap) => {\n      this.setState({ currentPageMap });\n    });\n    window.importMapOverrides.getNextPageMap().then((nextPageMap) => {\n      this.setState({ nextPageMap });\n    });\n    window.addEventListener(\"import-map-overrides:change\", this.doUpdate);\n    this.inputRef.focus();\n  }\n  componentWillUnmount() {\n    window.removeEventListener(\"import-map-overrides:change\", this.doUpdate);\n  }\n  componentDidUpdate(prevProps, prevState) {\n    if (!prevState.dialogModule && this.state.dialogModule) {\n      this.dialogContainer = document.createElement(\"div\");\n      document.body.appendChild(this.dialogContainer);\n      render(\n        <ModuleDialog\n          module={this.state.dialogModule}\n          cancel={this.cancel}\n          updateModuleUrl={this.updateModuleUrl}\n          addNewModule={this.addNewModule}\n        />,\n        this.dialogContainer\n      );\n    } else if (prevState.dialogModule && !this.state.dialogModule) {\n      render(null, this.dialogContainer);\n      this.dialogContainer.remove();\n      delete this.dialogContainer;\n    }\n\n    if (!prevState.dialogExternalMap && this.state.dialogExternalMap) {\n      this.dialogContainer = document.createElement(\"div\");\n      document.body.appendChild(this.dialogContainer);\n      render(\n        <ExternalImportMap\n          dialogExternalMap={this.state.dialogExternalMap}\n          cancel={this.cancel}\n        />,\n        this.dialogContainer\n      );\n    } else if (prevState.dialogExternalMap && !this.state.dialogExternalMap) {\n      render(null, this.dialogContainer);\n      this.dialogContainer.remove();\n      delete this.dialogContainer;\n    }\n  }\n  render() {\n    const overriddenModules = [],\n      nextOverriddenModules = [],\n      disabledOverrides = [],\n      defaultModules = [],\n      externalOverrideModules = [],\n      pendingRefreshDefaultModules = [],\n      devLibModules = [];\n\n    const overrideMap = window.importMapOverrides.getOverrideMap(true).imports;\n\n    const notOverriddenKeys = Object.keys(this.state.notOverriddenMap.imports);\n\n    const disabledModules = window.importMapOverrides.getDisabledOverrides();\n\n    notOverriddenKeys.filter(this.filterModuleNames).forEach((moduleName) => {\n      const mod = {\n        moduleName,\n        defaultUrl: this.state.notOverriddenMap.imports[moduleName],\n        overrideUrl: overrideMap[moduleName],\n        disabled: includes(disabledModules, moduleName),\n      };\n      if (mod.disabled) {\n        disabledOverrides.push(mod);\n      } else if (overrideMap[moduleName]) {\n        if (\n          this.state.currentPageMap.imports[moduleName] ===\n          overrideMap[moduleName]\n        ) {\n          if (\n            devLibs[moduleName] &&\n            devLibs[moduleName](\n              this.state.currentPageMap.imports[moduleName]\n            ) === overrideMap[moduleName]\n          ) {\n            devLibModules.push(mod);\n          } else {\n            overriddenModules.push(mod);\n          }\n        } else {\n          nextOverriddenModules.push(mod);\n        }\n      } else if (\n        this.state.notOverriddenMap.imports[moduleName] ===\n        this.state.currentPageMap.imports[moduleName]\n      ) {\n        defaultModules.push(mod);\n      } else if (\n        this.state.notOverriddenMap.imports[moduleName] ===\n        this.state.nextPageMap.imports[moduleName]\n      ) {\n        pendingRefreshDefaultModules.push(mod);\n      } else {\n        externalOverrideModules.push(mod);\n      }\n    });\n\n    Object.keys(overrideMap)\n      .filter(this.filterModuleNames)\n      .forEach((moduleName) => {\n        if (!includes(notOverriddenKeys, moduleName)) {\n          const mod = {\n            moduleName,\n            defaultUrl: null,\n            overrideUrl: overrideMap[moduleName],\n            disabled: includes(disabledModules, moduleName),\n          };\n\n          if (mod.disabled) {\n            disabledOverrides.push(mod);\n          } else if (\n            this.state.currentPageMap.imports[moduleName] ===\n            overrideMap[moduleName]\n          ) {\n            overriddenModules.push(mod);\n          } else {\n            nextOverriddenModules.push(mod);\n          }\n        }\n      });\n\n    overriddenModules.sort(sorter);\n    defaultModules.sort(sorter);\n    nextOverriddenModules.sort(sorter);\n\n    const {\n      brokenMaps,\n      workingCurrentPageMaps,\n      workingNextPageMaps,\n    } = getExternalMaps();\n\n    return (\n      <div className=\"imo-list-container\">\n        <div className=\"imo-table-header-actions\">\n          <input\n            className=\"imo-list-search\"\n            aria-label=\"Search modules\"\n            placeholder=\"Search modules\"\n            value={this.state.searchVal}\n            onInput={(evt) => this.setState({ searchVal: evt.target.value })}\n            ref={(ref) => (this.inputRef = ref)}\n          />\n          <div className=\"imo-add-new\">\n            <button\n              onClick={() =>\n                this.setState({\n                  dialogModule: { moduleName: \"New module\", isNew: true },\n                })\n              }\n            >\n              Add new module\n            </button>\n          </div>\n          <div className=\"imo-add-new\">\n            <button\n              onClick={() => {\n                this.setState({\n                  dialogExternalMap: { url: \"\", isNew: true },\n                });\n              }}\n            >\n              Add import map\n            </button>\n          </div>\n          <div className=\"imo-add-new\">\n            <button onClick={() => window.importMapOverrides.resetOverrides()}>\n              Reset all overrides\n            </button>\n          </div>\n        </div>\n        <table className=\"imo-overrides-table\">\n          <thead>\n            <tr>\n              <th>Module Status</th>\n              <th>Module Name</th>\n              <th>Domain</th>\n              <th>Filename</th>\n            </tr>\n          </thead>\n          <tbody>\n            {nextOverriddenModules.map((mod) => (\n              <tr\n                role=\"button\"\n                tabIndex={0}\n                onClick={() => this.setState({ dialogModule: mod })}\n                key={mod.moduleName}\n              >\n                <td>\n                  <div className=\"imo-status imo-next-override\" />\n                  <div>Inline Override</div>\n                  <div className=\"imo-needs-refresh\" />\n                </td>\n                <td>{mod.moduleName}</td>\n                <td>{toDomain(mod)}</td>\n                <td>{toFileName(mod)}</td>\n              </tr>\n            ))}\n            {pendingRefreshDefaultModules.map((mod) => (\n              <tr\n                role=\"button\"\n                tabIndex={0}\n                onClick={() => this.setState({ dialogModule: mod })}\n                key={mod.moduleName}\n              >\n                <td style={{ position: \"relative\" }}>\n                  <div className=\"imo-status imo-next-default\" />\n                  <div>Default</div>\n                  <div className=\"imo-needs-refresh\" />\n                </td>\n                <td>{mod.moduleName}</td>\n                <td>{toDomain(mod)}</td>\n                <td>{toFileName(mod)}</td>\n              </tr>\n            ))}\n            {disabledOverrides.map((mod) => (\n              <tr\n                role=\"button\"\n                tabIndex={0}\n                onClick={() => this.setState({ dialogModule: mod })}\n                key={mod.moduleName}\n              >\n                <td>\n                  <div className=\"imo-status imo-disabled-override\" />\n                  <div>Override disabled</div>\n                </td>\n                <td>{mod.moduleName}</td>\n                <td>{toDomain(mod)}</td>\n                <td>{toFileName(mod)}</td>\n              </tr>\n            ))}\n            {overriddenModules.map((mod) => (\n              <tr\n                role=\"button\"\n                tabIndex={0}\n                onClick={() => this.setState({ dialogModule: mod })}\n                key={mod.moduleName}\n              >\n                <td>\n                  <div className=\"imo-status imo-current-override\" />\n                  <div>Inline Override</div>\n                </td>\n                <td>{mod.moduleName}</td>\n                <td>{toDomain(mod)}</td>\n                <td>{toFileName(mod)}</td>\n              </tr>\n            ))}\n            {externalOverrideModules.map((mod) => (\n              <tr\n                role=\"button\"\n                tabIndex={0}\n                onClick={() => this.setState({ dialogModule: mod })}\n                key={mod.moduleName}\n              >\n                <td>\n                  <div className=\"imo-status imo-external-override\" />\n                  <div>External Override</div>\n                </td>\n                <td>{mod.moduleName}</td>\n                <td>{toDomain(mod)}</td>\n                <td>{toFileName(mod)}</td>\n              </tr>\n            ))}\n            {devLibModules.map((mod) => (\n              <tr\n                role=\"button\"\n                tabIndex={0}\n                onClick={() => this.setState({ dialogModule: mod })}\n                key={mod.moduleName}\n                title=\"Automatically use dev version of certain npm libs\"\n              >\n                <td>\n                  <div className=\"imo-status imo-dev-lib-override\" />\n                  <div>Dev Lib Override</div>\n                </td>\n                <td>{mod.moduleName}</td>\n                <td>{toDomain(mod)}</td>\n                <td>{toFileName(mod)}</td>\n              </tr>\n            ))}\n            {defaultModules.map((mod) => (\n              <tr\n                role=\"button\"\n                tabIndex={0}\n                onClick={() => this.setState({ dialogModule: mod })}\n                key={mod.moduleName}\n              >\n                <td>\n                  <div className=\"imo-status imo-default-module\" />\n                  <div>Default</div>\n                </td>\n                <td>{mod.moduleName}</td>\n                <td>{toDomain(mod)}</td>\n                <td>{toFileName(mod)}</td>\n              </tr>\n            ))}\n          </tbody>\n        </table>\n        {(brokenMaps.length > 0 ||\n          workingCurrentPageMaps.length > 0 ||\n          workingNextPageMaps.length > 0) && (\n          <table className=\"imo-overrides-table\">\n            <thead>\n              <th>Import Map Status</th>\n              <th>URL</th>\n            </thead>\n            <tbody>\n              {brokenMaps.map((url) => (\n                <tr\n                  role=\"button\"\n                  tabIndex={0}\n                  onClick={() =>\n                    this.setState({ dialogExternalMap: { isNew: false, url } })\n                  }\n                  key={url}\n                >\n                  <td>\n                    <div className=\"imo-status imo-disabled-override\" />\n                    <div>Invalid</div>\n                  </td>\n                  <td>{url}</td>\n                </tr>\n              ))}\n              {workingNextPageMaps.map((url) => (\n                <tr\n                  role=\"button\"\n                  tabIndex={0}\n                  onClick={() =>\n                    this.setState({ dialogExternalMap: { isNew: false, url } })\n                  }\n                  key={url}\n                >\n                  <td>\n                    <div className=\"imo-status imo-next-override\" />\n                    <div>Pending refresh</div>\n                  </td>\n                  <td>{url}</td>\n                </tr>\n              ))}\n              {workingCurrentPageMaps.map((url) => (\n                <tr\n                  role=\"button\"\n                  tabIndex={0}\n                  onClick={() =>\n                    this.setState({ dialogExternalMap: { isNew: false, url } })\n                  }\n                  key={url}\n                >\n                  <td>\n                    <div className=\"imo-status imo-current-override\" />\n                    <div>Override</div>\n                  </td>\n                  <td>{url}</td>\n                </tr>\n              ))}\n            </tbody>\n          </table>\n        )}\n      </div>\n    );\n  }\n\n  cancel = () => {\n    this.setState({ dialogModule: null, dialogExternalMap: null });\n  };\n\n  updateModuleUrl = (newUrl) => {\n    newUrl = newUrl || null;\n\n    if (newUrl === null) {\n      window.importMapOverrides.removeOverride(\n        this.state.dialogModule.moduleName\n      );\n    } else {\n      window.importMapOverrides.addOverride(\n        this.state.dialogModule.moduleName,\n        newUrl\n      );\n    }\n\n    this.setState({ dialogModule: null });\n  };\n\n  doUpdate = () => {\n    this.forceUpdate();\n    window.importMapOverrides.getNextPageMap().then((nextPageMap) => {\n      this.setState({ nextPageMap });\n    });\n  };\n\n  addNewModule = (name, url) => {\n    if (name && url) {\n      window.importMapOverrides.addOverride(name, url);\n    }\n    this.setState({ dialogModule: null });\n  };\n\n  filterModuleNames = (moduleName) => {\n    return this.state.searchVal.trim().length > 0\n      ? includes(moduleName, this.state.searchVal)\n      : true;\n  };\n}\n\nfunction sorter(first, second) {\n  return first.moduleName > second.moduleName;\n}\n\nconst currentBase =\n  (document.querySelector(\"base\") && document.querySelector(\"base\").href) ||\n  location.origin + \"/\";\n\nfunction toDomain(mod) {\n  const urlStr = toUrlStr(mod);\n  const url = toURL(urlStr);\n  return url ? url.host : urlStr;\n}\n\nfunction toFileName(mod) {\n  const urlStr = toUrlStr(mod);\n  const url = toURL(urlStr);\n  return url ? url.pathname.slice(url.pathname.lastIndexOf(\"/\") + 1) : urlStr;\n}\n\nfunction toUrlStr(mod) {\n  return mod.overrideUrl || mod.defaultUrl;\n}\n\nfunction toURL(urlStr) {\n  try {\n    return new URL(urlStr, currentBase);\n  } catch {\n    return null;\n  }\n}\n\nfunction getExternalMaps() {\n  const allExternalMaps = window.importMapOverrides.getExternalOverrides();\n  const allCurrentPageMaps = window.importMapOverrides.getCurrentPageExternalOverrides();\n  const brokenMaps = [],\n    workingCurrentPageMaps = [],\n    workingNextPageMaps = [];\n\n  for (let externalMap of allExternalMaps) {\n    if (includes(window.importMapOverrides.invalidExternalMaps, externalMap)) {\n      brokenMaps.push(externalMap);\n    } else {\n      if (includes(allCurrentPageMaps, externalMap)) {\n        workingCurrentPageMaps.push(externalMap);\n      } else {\n        workingNextPageMaps.push(externalMap);\n      }\n    }\n  }\n\n  return {\n    brokenMaps,\n    workingCurrentPageMaps,\n    workingNextPageMaps,\n  };\n}\n","import { h, Component } from \"preact\";\nimport List from \"./list/list.component\";\n\nexport default class Popup extends Component {\n  componentDidMount() {\n    window.addEventListener(\"keydown\", this.keydownListener);\n    window.addEventListener(\"import-map-overrides:change\", this.doUpdate);\n  }\n  componentWillUnmount() {\n    window.removeEventListener(\"keydown\", this.keydownListener);\n    window.removeEventListener(\"import-map-overrides:change\", this.doUpdate);\n  }\n  doUpdate = () => this.forceUpdate();\n  render(props) {\n    return (\n      <div className=\"imo-popup\">\n        <div className=\"imo-header\">\n          <div>\n            <h1>Import Map Overrides</h1>\n            <p>\n              This developer tool allows you to view and override your import\n              maps. Start by clicking on a module that you'd like to override.{\" \"}\n              <a\n                target=\"_blank\"\n                href=\"https://github.com/joeldenning/import-map-overrides\"\n              >\n                See documentation for more info\n              </a>\n              .\n            </p>\n          </div>\n          <button className=\"imo-unstyled\" onClick={props.close}>\n            {\"\\u24E7\"}\n          </button>\n        </div>\n        <List importMapChanged={this.props.importMapChanged} />\n      </div>\n    );\n  }\n  keydownListener = (evt) => {\n    if (evt.key === \"Escape\" && this.props.close) {\n      this.props.close();\n    }\n  };\n}\n","import { h, Component } from \"preact\";\nimport Popup from \"./popup.component\";\nimport DevLibOverrides, {\n  overridesBesidesDevLibs,\n} from \"./dev-lib-overrides.component\";\n\nexport default class FullUI extends Component {\n  state = {\n    showingPopup: false,\n  };\n  componentDidMount() {\n    window.addEventListener(\"import-map-overrides:change\", this.doUpdate);\n  }\n  componentWillUnmount() {\n    window.removeEventListener(\"import-map-overrides:change\", this.doUpdate);\n  }\n  doUpdate = () => this.forceUpdate();\n  render(props, state) {\n    const shouldShow =\n      !props.customElement.hasAttribute(\"show-when-local-storage\") ||\n      localStorage.getItem(\n        props.customElement.getAttribute(\"show-when-local-storage\")\n      ) === \"true\";\n\n    if (!shouldShow) {\n      return null;\n    }\n\n    return (\n      <div>\n        <button\n          onClick={this.toggleTrigger}\n          className={`imo-unstyled imo-trigger ${\n            this.atLeastOneOverride() ? \"imo-current-override\" : \"\"\n          }`}\n        >\n          {\"{\\u00B7\\u00B7\\u00B7}\"}\n        </button>\n        {this.useDevLibs() && <DevLibOverrides />}\n        {state.showingPopup && (\n          <Popup\n            close={this.toggleTrigger}\n            importMapChanged={this.importMapChanged}\n          />\n        )}\n      </div>\n    );\n  }\n  toggleTrigger = () => {\n    this.setState((prevState) => ({\n      showingPopup: !prevState.showingPopup,\n    }));\n  };\n  importMapChanged = () => {\n    this.forceUpdate();\n  };\n  useDevLibs = () => {\n    const localStorageValue = localStorage.getItem(\n      \"import-map-overrides-dev-libs\"\n    );\n    return localStorageValue\n      ? localStorageValue === \"true\"\n      : this.props.customElement.hasAttribute(\"dev-libs\");\n  };\n  atLeastOneOverride = () => {\n    if (this.useDevLibs()) {\n      return overridesBesidesDevLibs();\n    } else {\n      return (\n        Object.keys(window.importMapOverrides.getOverrideMap().imports).length >\n        0\n      );\n    }\n  };\n}\n","import \"./import-map-overrides.css\";\nimport { render, h } from \"preact\";\nimport FullUI from \"./full-ui.component\";\nimport Popup from \"./popup.component\";\nimport List from \"./list/list.component\";\nimport { isDisabled } from \"../api/js-api\";\n\nif (window.customElements && !isDisabled) {\n  window.customElements.define(\n    \"import-map-overrides-full\",\n    preactCustomElement(FullUI, [\"show-when-local-storage\"])\n  );\n  window.customElements.define(\n    \"import-map-overrides-popup\",\n    preactCustomElement(Popup)\n  );\n  window.customElements.define(\n    \"import-map-overrides-list\",\n    preactCustomElement(List)\n  );\n}\n\nfunction preactCustomElement(Comp, observedAttributes = []) {\n  return class PreactCustomElement extends HTMLElement {\n    connectedCallback() {\n      this.renderWithPreact();\n    }\n    disconnectedCallback() {\n      render(null, this);\n      this.renderedEl = null;\n    }\n    static get observedAttributes() {\n      return observedAttributes;\n    }\n    attributeChangedCallback() {\n      this.renderWithPreact();\n    }\n    renderWithPreact() {\n      this.renderedEl = render(\n        h(Comp, { customElement: this }),\n        this,\n        this.renderedEl\n      );\n    }\n  };\n}\n"],"names":["includes","obj","item","Array","isArray","i","length","indexOf","Error","getParameterByName","name","url","window","location","href","replace","regex","RegExp","results","exec","decodeURIComponent","isDisabled","domainsMeta","portRegex","importMapMetaElement","document","querySelector","domainsElement","externalOverrideMapPromises","importMapType","getAttribute","content","console","warn","matchHostname","domain","string","TypeError","escapeStringRegexp","test","hostname","slice","split","some","log","localStorage","getItem","canAccessLocalStorage","defaultMapPromise","serverOverrides","hasAttribute","serverOnly","importMapOverrides","addOverride","moduleName","imo","getUrlFromPort","key","setItem","cookie","fireChangedEvent","getOverrideMap","includeDisabled","overrides","imports","scopes","disabledOverrides","getDisabledOverrides","setOverride","path","queryParam","parent","queryParamImportMap","JSON","parse","e","Object","keys","forEach","removeOverride","hasItem","removeItem","enableOverride","resetOverrides","hasOverrides","port","fileName","enableUI","customElement","createElement","setAttribute","body","appendChild","localStorageKey","renderWithPreact","mergeImportMap","originalMap","newMap","outMap","getDefaultMap","prototype","reduce","call","querySelectorAll","promise","scriptEl","nextPromise","src","fetchExternalMap","Promise","resolve","textContent","all","then","getCurrentPageMap","getExternalOverrideMap","getCurrentPageExternalOverrides","defaultMap","externalOverridesMap","initialOverrideMap","currentPageExternalOverrides","externalOverrideEl","push","getNextPageMap","disableOverride","stringify","concat","index","splice","getExternalOverrides","localStorageValue","sort","addExternalOverride","URL","baseURI","removeExternalOverride","filter","override","externalOverrides","result","externalOverride","fetchPromise","firstMap","secondMap","isExternalMapValid","importMapUrl","invalidExternalMaps","canFireCustomEvents","CustomEvent","err","setTimeout","dispatchEvent","referenceNode","initialExternalOverrideMaps","overridableImportMap","importMaps","insertOverrideMap","insertAllExternalOverrideMaps","map","id","overrideMapElement","type","insertAdjacentElement","head","fetch","r","ok","json","catch","status","mapUrl","init","css","ref","insertAt","getElementsByTagName","style","firstChild","insertBefore","styleSheet","cssText","createTextNode","n","u","t","o","f","c","s","l","a","parentNode","removeChild","v","arguments","children","defaultProps","h","props","__k","__","__b","__e","__d","__c","__h","constructor","__v","vnode","p","d","this","context","_","w","base","k","g","__r","debounceRendering","__P","$","__n","ownerSVGElement","j","m","y","b","A","P","x","value","L","I","nextSibling","setProperty","C","toLowerCase","N","z","addEventListener","removeEventListener","removeAttributeNS","setAttributeNS","removeAttribute","event","T","contextType","__E","render","M","sub","state","__s","getDerivedStateFromProps","componentWillMount","componentDidMount","componentWillReceiveProps","shouldComponentUpdate","componentWillUpdate","componentDidUpdate","getChildContext","getSnapshotBeforeUpdate","H","diffed","nodeType","localName","createElementNS","is","data","childNodes","dangerouslySetInnerHTML","attributes","__html","innerHTML","checked","current","unmount","componentWillUnmount","O","getDerivedStateFromError","setState","componentDidCatch","forceUpdate","bind","ModuleDialog","match","_this","module","overrideUrl","getInitialOverrideUrl","el","inputEl","moduleNameEl","dialogEl","evt","preventDefault","isNew","addNewModule","updateModuleUrl","stopPropagation","cancel","select","focusFirstInput","keyDown","prevProps","prevState","_this2","className","open","dialogRef","method","onSubmit","handleSubmit","marginTop","defaultUrl","position","tabIndex","onInput","_this3","target","handleModuleNameRef","required","role","onClick","clearModuleName","handleInputRef","clearInput","getDerivedUrl","marginRight","disabled","Component","ExternalImportMap","dialogExternalMap","focus","marginBottom","htmlFor","DevLibOverrides","addDevLibOverrides","removeMin","devLibs","react","vue","notOverriddenMap","libName","overridesBesidesDevLibs","List","currentPageMap","nextPageMap","dialogModule","searchVal","newUrl","trim","doUpdate","inputRef","dialogContainer","remove","overriddenModules","nextOverriddenModules","defaultModules","externalOverrideModules","pendingRefreshDefaultModules","devLibModules","overrideMap","notOverriddenKeys","disabledModules","filterModuleNames","mod","sorter","allExternalMaps","allCurrentPageMaps","brokenMaps","workingCurrentPageMaps","workingNextPageMaps","externalMap","getExternalMaps","placeholder","toDomain","toFileName","title","first","second","currentBase","origin","urlStr","toUrlStr","toURL","host","pathname","lastIndexOf","Popup","close","keydownListener","importMapChanged","FullUI","showingPopup","useDevLibs","toggleTrigger","atLeastOneOverride","preactCustomElement","Comp","observedAttributes","renderedEl","HTMLElement","customElements","define"],"mappings":";g0GAAO,SAASA,EAASC,EAAKC,MACxBC,MAAMC,QAAQH,GAAM,KACjB,IAAII,EAAI,EAAGA,EAAIJ,EAAIK,OAAQD,OAC1BJ,EAAII,KAAOH,SACN,SAGJ,EACF,GAAmB,iBAARD,SACTA,EAAIM,QAAQL,IAAS,QAEtBM,yCAAuCP,KCV1C,SAASQ,EAAmBC,OAAMC,yDAAMC,OAAOC,SAASC,KAC7DJ,EAAOA,EAAKK,QAAQ,UAAW,YAC3BC,EAAQ,IAAIC,OAAO,OAASP,EAAO,qBACrCQ,EAAUF,EAAMG,KAAKR,UAClBO,EACAA,EAAQ,GACNE,mBAAmBF,EAAQ,GAAGH,QAAQ,MAAO,MAD5B,GADH,KCDvB,IAuBWM,EAnBLC,EAAc,+BAKdC,EAAY,SAEZC,EAAuBC,SAASC,cACpC,+BAGIC,EAAiBF,SAASC,mCAA4BJ,SAEtDM,EAA8B,GAEvBC,EAAgBL,EACzBA,EAAqBM,aAAa,WAClC,YAIJ,GAAIH,EAAgB,KACZI,EAAUJ,EAAeG,aAAa,WACvCC,GACHC,QAAQC,uBAAgBX,4CAGpBY,EAAgB,SAACC,UACrB,IAAIlB,OCnC0B,SAACmB,MACX,iBAAXA,QACH,IAAIC,UAAU,4BAKfD,EAAOrB,QAAQ,sBAAuB,QAAQA,QAAQ,KAAM,SD4BtDuB,CAAmBH,GAAQpB,QAAQ,MAAO,OAAOwB,KAC1D3B,OAAOC,SAAS2B,WAGqB,IAArCT,EAAQxB,QA/BU,cAiCpBc,GADuBU,EAAQU,MAhCX,aAgCiCnC,QAAQoC,MAAM,KACtCC,KAAKT,GACW,IAApCH,EAAQxB,QAjCE,aAmCnBc,EADsBU,EAAQU,MAlCX,YAkCgCnC,QAAQoC,MAAM,KACtCC,KAAKT,GAGhCF,QAAQY,sBACKtB,uDAxCO,4BACD,mBA2CrBD,GAAa,GA2bf,sBAEIwB,aAAaC,QAAQ,SACd,EACP,gBACO,IA7bNC,KACHf,QAAQC,KACN,uEAEFZ,GAAa,GAGVA,GAIL,eAQM2B,EAPEC,IAAkBzB,GACpBA,EAAqB0B,aAAa,iBAEhCC,IAAa3B,GACfA,EAAqB0B,aAAa,eAKtCtC,OAAOwC,mBAAqB,CAC1BC,qBAAYC,EAAY3C,GAClBY,EAAUgB,KAAK5B,KACjBA,EAAM4C,EAAIC,eAAeF,EAAY3C,QAEjC8C,EA9Ee,uBA8EYH,SACjCT,aAAaa,QAAQD,EAAK9C,GACtBsC,IACFxB,SAASkC,iBAAYF,cAAO9C,IAE9BiD,IACOL,EAAIM,kBAEbA,kCAAeC,0DACPC,EAsYD,CAAEC,QAAS,GAAIC,OAAQ,IArYtBC,EAAoBX,EAAIY,uBAExBC,EAAc,SAACd,EAAYe,IAC3BP,GAAqBI,EAAkB3D,QAAQ+C,IAAe,IAChES,EAAUC,QAAQV,GAAce,IAK3BhE,EAAI,EAAGA,EAAIwC,aAAavC,OAAQD,IAAK,KACtCoD,EAAMZ,aAAaY,IAAIpD,GACW,IAApCoD,EAAIlD,QAnGW,yBAoGjB6D,EACEX,EAAIhB,MArGW,uBAqGcnC,QAC7BuC,aAAaC,QAAQW,QAMrBa,EAAa7D,EArGc,MAuG/BG,OAAO2D,OAAS3D,OAAO2D,OAAO1D,SAASC,KAAOF,OAAOC,SAASC,SAG5DwD,EAAY,KACVE,MAEFA,EAAsBC,KAAKC,MAAMJ,GACjC,MAAOK,SACDnE,mEAIRoE,OAAOC,KAAKL,EAAoBR,SAASc,SAAQ,SAACxB,GAChDc,EAAYd,EAAYkB,EAAoBR,QAAQV,cAIjDS,GAETgB,wBAAezB,OACPG,EAlIe,uBAkIYH,EAC3B0B,EAAwC,OAA9BnC,aAAaC,QAAQW,UACrCZ,aAAaoC,WAAWxB,GACpBR,IACFxB,SAASkC,iBAAYF,gDAEvBF,EAAI2B,eAAe5B,GACnBM,IACOoB,GAETG,iCACEP,OAAOC,KAAKtB,EAAIM,gBAAe,GAAMG,SAASc,SAAQ,SAACxB,GACrDC,EAAIwB,eAAezB,MAErBT,aAAaoC,WA/IsB,iCAgJnCpC,aAAaoC,WA/IsB,sCAgJnCrB,IACOL,EAAIM,kBAEbuB,+BACSR,OAAOC,KAAKtB,EAAIM,iBAAiBG,SAAS1D,OAAS,GAE5DkD,wBAAeF,EAAY+B,OACnBC,EAAWhC,EAAWvC,QAAQ,KAAM,IAAIA,QAAQ,MAAO,iCACvCsE,cAAQC,UAEhCC,wBAGMC,EAAgB/D,SAASC,cAFH,6BAIrB8D,KACHA,EAAgB/D,SAASgE,cALD,8BAMVC,aALa,0BAKsB,QACjDjE,SAASkE,KAAKC,YAAYJ,QAGtBK,EAAkBL,EAAc1D,aATT,2BAUzB+D,IACFhD,aAAaa,QAAQmC,GAAiB,GACtCL,EAAcM,qBAGlBC,wBAAeC,EAAaC,OACpBC,EA+SD,CAAElC,QAAS,GAAIC,OAAQ,QA9SvB,IAAI5D,KAAK2F,EAAYhC,QACxBkC,EAAOlC,QAAQ3D,GAAK2F,EAAYhC,QAAQ3D,OAErC,IAAIA,KAAK4F,EAAOjC,QACnBkC,EAAOlC,QAAQ3D,GAAK4F,EAAOjC,QAAQ3D,OAEhC,IAAIA,KAAK2F,EAAY/B,OACxBiC,EAAOjC,OAAO5D,GAAK2F,EAAY/B,OAAO5D,OAEnC,IAAIA,KAAK4F,EAAOhC,OACnBiC,EAAOjC,OAAO5D,GAAK4F,EAAOhC,OAAO5D,UAE5B6F,GAETC,gCAEInD,IACCA,EAAoB7C,MAAMiG,UAAUC,OAAOC,KAC1C7E,SAAS8E,wCACS1E,gDAElB,SAAC2E,EAASC,UACJA,EAASvD,aAlMC,8BAmMLsD,GAILE,EADED,EAASE,IACGC,EAAiBH,EAASE,KAE1BE,QAAQC,QAAQrC,KAAKC,MAAM+B,EAASM,cAG7CF,QAAQG,IAAI,CACjBR,EACAE,IACCO,MAAK,yBAAEjB,OAAaC,cACrB1C,EAAIwC,eAAeC,EAAaC,WAX9BS,IAeRG,QAAQC,QAsQP,CAAE9C,QAAS,GAAIC,OAAQ,QAlQ9BiD,oCACSL,QAAQG,IAAI,CACjBzD,EAAI4C,gBACJ5C,EAAI4D,uBAAuB5D,EAAI6D,qCAC9BH,MAAK,yBAAEI,OAAYC,cACb/D,EAAIwC,eACTxC,EAAIwC,eAAesB,EAAYC,GAC/BC,OAINH,+CACQI,EAA+B,UACrC/F,SACG8E,4BAtOiB,oEAyOjBzB,SAAQ,SAAC2C,GACRD,EAA6BE,KAAKD,EAAmBd,QAElDa,GAETG,iCACSd,QAAQG,IAAI,CACjBzD,EAAI4C,gBACJ5C,EAAI4D,2BACHF,MAAK,yBAAEI,OAAYC,cACb/D,EAAIwC,eACTxC,EAAIwC,eAAesB,EAAYC,GAC/B/D,EAAIM,sBAIV+D,yBAAgBtE,OACRY,EAAoBX,EAAIY,8BACzBnE,EAASkE,EAAmBZ,KAC/BT,aAAaa,QA9PoB,gCAgQ/Be,KAAKoD,UAAU3D,EAAkB4D,OAAOxE,KAE1CM,KACO,IAKXsB,wBAAe5B,OACPY,EAAoBX,EAAIY,uBACxB4D,EAAQ7D,EAAkB3D,QAAQ+C,UACpCyE,GAAS,IACX7D,EAAkB8D,OAAOD,EAAO,GAChClF,aAAaa,QA7QoB,gCA+Q/Be,KAAKoD,UAAU3D,IAEjBN,KACO,IAKXO,oCACQD,EAAoBrB,aAAaC,QAxRJ,wCA2R5BoB,EAAoBO,KAAKC,MAAMR,GAAqB,IAE7D7C,oBAAWiC,UACFtD,EAASuD,EAAIY,uBAAwBb,IAE9C2E,oCACMC,EAAoBrF,aAAaC,QAhSF,6CAmS5BoF,EAAoBzD,KAAKC,MAAMwD,GAAmBC,OAAS,IAEpEC,6BAAoBzH,GAClBA,EAAM,IAAI0H,IAAI1H,EAAKc,SAAS6G,SAASxH,SAC/BiD,EAAYR,EAAI0E,8BAClBjI,EAAS+D,EAAWpD,KAGtBkC,aAAaa,QA3SoB,qCA6S/Be,KAAKoD,UAAU9D,EAAU+D,OAAOnH,KAElCiD,KACO,IAGX2E,gCAAuB5H,OACfoD,EAAYR,EAAI0E,+BAClBjI,EAAS+D,EAAWpD,KACtBkC,aAAaa,QAtToB,qCAwT/Be,KAAKoD,UAAU9D,EAAUyE,QAAO,SAACC,UAAaA,IAAa9H,OAE7DiD,KACO,IAKXuD,sCAAuBuB,yDAAoBnF,EAAI0E,8BACtCS,EAAkBrC,QAAO,SAACsC,EAAQC,OACjCC,EACJjH,EAA4BgH,KAC3BhH,EAA4BgH,GAAoBhC,EAC/CgC,WAEG/B,QAAQG,IAAI,CAAC2B,EAAQE,IAAe5B,MACzC,yBAAE6B,OAAUC,cACHxF,EAAIwC,eAAe+C,EAAUC,QAGvClC,QAAQC,QA+IN,CAAE9C,QAAS,GAAIC,OAAQ,OA7I9B+E,4BAAmBC,UAEfrH,EAA4BqH,KAC3BrH,EAA4BqH,GAAgBrC,EAC3CqC,KAEWhC,MAAK,kBAClBjH,EAASuD,EAAI2F,oBAAqBD,OAGtCC,oBAAqB,QAGjB3F,EAAM3C,OAAOwC,mBAEf+F,GAAsB,MAEpBC,gBACEA,YAAY,KAEhBD,GAAsB,EAExB,MAAOE,GACPF,GAAsB,WAGfvF,IAEP0F,YAAW,WACLH,GACFvI,OAAO2I,cAAc,IAAIH,YAAY,uCAQvCI,EAHEjC,EAAqBhE,EAAIM,iBACzB4F,EAA8BlG,EAAI0E,2BAInC9E,EAAY,KACTuG,EAAuBjI,SAASC,cACpC,6CAGF8H,EAAgBE,GAEI,KACZC,EAAalI,SAAS8E,wCACV1E,SAElB2H,EAAgBG,EAAaA,EAAWA,EAAWrJ,OAAS,GAAK,QAG/DoJ,EAAsB,IACpBA,EAAqB/C,UACjBnG,4GAIJwF,MAEFA,EAAcvB,KAAKC,MAAMgF,EAAqB3C,aAC9C,MAAOpC,SACDnE,mFAKRgJ,EAAgBI,EACdrG,EAAIwC,eAAeC,EAAauB,0BAEhCiC,GAEFK,SAEAA,IACIjF,OAAOC,KAAK0C,EAAmBvD,SAAS1D,OAAS,IACnDkJ,EAAgBI,EACdrC,yBAEAiC,aAMCI,EAAkBE,EAAKC,EAAIP,OAC5BQ,EAAqBvI,SAASgE,cAAc,iBAClDuE,EAAmBC,KAAOpI,EAC1BmI,EAAmBD,GAAKA,EACxBC,EAAmBtE,aAxaG,6BAwa6B,IAChC,iBAARoE,EACTE,EAAmBrD,IAAMmD,EAEzBE,EAAmBjD,YAActC,KAAKoD,UAAUiC,EAAK,KAAM,GAGzDN,EACFA,EAAcU,sBAAsB,WAAYF,GAEhDvI,SAAS0I,KAAKvE,YAAYoE,GAGrBA,WAGApD,EAAiBjG,UACjByJ,MAAMzJ,GAAKsG,MAChB,SAACoD,UACKA,EAAEC,GACGD,EAAEE,OAAOC,OAAM,SAACnB,UACrBrH,QAAQC,KACNzB,4EACiE6J,EAAE1J,iBAAQ0I,KAG7E9F,EAAI2F,oBAAoBxB,KAAK2C,EAAE1J,KAwBhC,CAAEqD,QAAS,GAAIC,OAAQ,QApBxBjC,QAAQC,KACNzB,yEAC8D6J,EAAE1J,8CAAqC0J,EAAEI,UAGzGlH,EAAI2F,oBAAoBxB,KAAK2C,EAAE1J,KAe9B,CAAEqD,QAAS,GAAIC,OAAQ,QAX5B,kBACEjC,QAAQC,KACNzB,+DAAwDG,SAE1D4C,EAAI2F,oBAAoBxB,KAAK,IAAIW,IAAI1H,EAAKc,SAAS6G,SAASxH,MAOzD,CAAEkD,QAAS,GAAIC,OAAQ,gBAGvB4F,IACHJ,EAA4BnJ,OAAS,GACvCmJ,EAA4B3E,SAAQ,SAAC4F,EAAQ3C,GAC3CyB,EAAgBI,EACdc,0CACiC3C,QAzazC4C,GEhEF,SAAqBC,EAAKC,QACX,IAARA,IAAiBA,EAAM,IAC5B,IAAIC,EAAWD,EAAIC,SAEnB,GAAgC,oBAAbrJ,SAAnB,CAEA,IAAI0I,EAAO1I,SAAS0I,MAAQ1I,SAASsJ,qBAAqB,QAAQ,GAC9DC,EAAQvJ,SAASgE,cAAc,SACnCuF,EAAMf,KAAO,WAEI,QAAba,GACEX,EAAKc,WACPd,EAAKe,aAAaF,EAAOb,EAAKc,YAKhCd,EAAKvE,YAAYoF,GAGfA,EAAMG,WACRH,EAAMG,WAAWC,QAAUR,EAE3BI,EAAMpF,YAAYnE,SAAS4J,eAAeT,y6HCvB1CU,EAAIC,EAAElL,EAAEmL,EAAEC,EAAIC,EAAE,GAAG/G,EAAE,GAAGgH,EAAE,oEAAoE,SAASC,EAAEN,EAAEO,GAAG,IAAI,IAAIN,KAAKM,EAAEP,EAAEC,GAAGM,EAAEN,GAAG,OAAOD,EAAE,SAASQ,EAAER,GAAG,IAAIO,EAAEP,EAAES,WAAWF,GAAGA,EAAEG,YAAYV,GAAG,SAASW,EAAEX,EAAEO,EAAEN,GAAG,IAAIlL,EAAEmL,EAAEC,EAAEpB,EAAE6B,UAAUR,EAAE,GAAG,IAAID,KAAKI,EAAE,OAAOJ,EAAEpL,EAAEwL,EAAEJ,GAAG,OAAOA,EAAED,EAAEK,EAAEJ,GAAGC,EAAED,GAAGI,EAAEJ,GAAG,GAAGS,UAAU5L,OAAO,EAAE,IAAIiL,EAAE,CAACA,GAAGE,EAAE,EAAEA,EAAES,UAAU5L,OAAOmL,IAAIF,EAAE7D,KAAK2C,EAAEoB,IAAI,GAAG,MAAMF,IAAIG,EAAES,SAASZ,GAAG,mBAAmBD,GAAG,MAAMA,EAAEc,aAAa,IAAIX,KAAKH,EAAEc,kBAAa,IAASV,EAAED,KAAKC,EAAED,GAAGH,EAAEc,aAAaX,IAAI,OAAOY,EAAEf,EAAEI,EAAErL,EAAEmL,EAAE,MAAM,SAASa,EAAER,EAAEN,EAAElL,EAAEmL,EAAEC,GAAG,IAAIpB,EAAE,CAACJ,KAAK4B,EAAES,MAAMf,EAAE9H,IAAIpD,EAAEwK,IAAIW,EAAEe,IAAI,KAAKC,GAAG,KAAKC,IAAI,EAAEC,IAAI,KAAKC,SAAI,EAAOC,IAAI,KAAKC,IAAI,KAAKC,iBAAY,EAAOC,IAAI,MAAMtB,IAAIH,EAAEyB,IAAItB,GAAG,OAAO,MAAMH,EAAE0B,OAAO1B,EAAE0B,MAAM3C,GAAGA,EAAoC,SAAS4C,EAAE3B,GAAG,OAAOA,EAAEa,SAAS,SAASe,EAAE5B,EAAEO,GAAGsB,KAAKb,MAAMhB,EAAE6B,KAAKC,QAAQvB,EAAE,SAASwB,EAAE/B,EAAEO,GAAG,GAAG,MAAMA,EAAE,OAAOP,EAAEkB,GAAGa,EAAE/B,EAAEkB,GAAGlB,EAAEkB,GAAGD,IAAIhM,QAAQ+K,GAAG,GAAG,KAAK,IAAI,IAAIC,EAAEM,EAAEP,EAAEiB,IAAIjM,OAAOuL,IAAI,GAAG,OAAON,EAAED,EAAEiB,IAAIV,KAAK,MAAMN,EAAEmB,IAAI,OAAOnB,EAAEmB,IAAI,MAAM,mBAAmBpB,EAAErB,KAAKoD,EAAE/B,GAAG,KAAK,SAASgC,EAAEhC,GAAG,IAAIO,EAAEN,EAAE,GAAG,OAAOD,EAAEA,EAAEkB,KAAK,MAAMlB,EAAEsB,IAAI,CAAC,IAAItB,EAAEoB,IAAIpB,EAAEsB,IAAIW,KAAK,KAAK1B,EAAE,EAAEA,EAAEP,EAAEiB,IAAIjM,OAAOuL,IAAI,GAAG,OAAON,EAAED,EAAEiB,IAAIV,KAAK,MAAMN,EAAEmB,IAAI,CAACpB,EAAEoB,IAAIpB,EAAEsB,IAAIW,KAAKhC,EAAEmB,IAAI,MAAM,OAAOY,EAAEhC,IAAI,SAASkC,EAAE3B,KAAKA,EAAEc,MAAMd,EAAEc,KAAI,IAAKpB,EAAE7D,KAAKmE,KAAK4B,EAAEC,OAAOlC,IAAIF,EAAEqC,sBAAsBnC,EAAEF,EAAEqC,oBAAoBtN,GAAGoN,GAAG,SAASA,IAAI,IAAI,IAAInC,EAAEmC,EAAEC,IAAInC,EAAEjL,QAAQgL,EAAEC,EAAEpD,MAAK,SAASmD,EAAEO,GAAG,OAAOP,EAAEyB,IAAIN,IAAIZ,EAAEkB,IAAIN,OAAMlB,EAAE,GAAGD,EAAE3I,MAAK,SAAS2I,GAAG,IAAIO,EAAEN,EAAElL,EAAEmL,EAAEC,EAAEpB,EAAEqB,EAAEJ,EAAEqB,MAAMtC,GAAGoB,GAAGI,EAAEP,GAAGyB,KAAKL,KAAKhB,EAAEG,EAAE+B,OAAOrC,EAAE,IAAIlL,EAAEuL,EAAE,GAAGH,IAAIsB,IAAItB,EAAEsB,IAAI,EAAEvB,EAAEqC,EAAEnC,EAAED,EAAEpL,EAAEwL,EAAEiC,SAAI,IAASpC,EAAEqC,gBAAgB,MAAMtC,EAAEoB,IAAI,CAACxC,GAAG,KAAKkB,EAAE,MAAMlB,EAAEgD,EAAE5B,GAAGpB,EAAEoB,EAAEoB,KAAKmB,GAAEzC,EAAEE,GAAGD,GAAGnB,GAAGiD,EAAE7B,QAAO,SAASwC,EAAE3C,EAAEO,EAAEN,EAAElL,EAAEmL,EAAEC,EAAEpB,EAAEsB,EAAEC,EAAEK,GAAG,IAAIiC,EAAEhB,EAAEI,EAAEE,EAAEC,EAAEQ,EAAEE,EAAEC,EAAE/N,GAAGA,EAAEkM,KAAK5H,EAAE0J,EAAED,EAAE9N,OAAO,IAAIsL,GAAGF,IAAIE,EAAE,MAAMvB,EAAEA,EAAE,GAAGgE,EAAEhB,EAAEhN,EAAE,GAAG,MAAMkL,EAAEgB,IAAI,GAAG2B,EAAE,EAAEA,EAAErC,EAAEvL,OAAO4N,IAAI,GAAG,OAAOV,EAAEjC,EAAEgB,IAAI2B,GAAG,OAAOV,EAAE3B,EAAEqC,KAAK,kBAAkBV,EAAE,KAAK,iBAAiBA,GAAG,iBAAiBA,EAAEnB,EAAE,KAAKmB,EAAE,KAAK,KAAKA,GAAGrN,MAAMC,QAAQoN,GAAGnB,EAAEY,EAAE,CAACd,SAASqB,GAAG,KAAK,KAAK,MAAM,MAAMA,EAAEd,KAAK,MAAMc,EAAEZ,IAAIP,EAAEmB,EAAEvD,KAAKuD,EAAElB,MAAMkB,EAAE/J,IAAI,KAAK+J,EAAET,KAAKS,GAAG,CAAC,GAAGA,EAAEhB,GAAGjB,EAAEiC,EAAEf,IAAIlB,EAAEkB,IAAI,EAAE,QAAQa,EAAEc,EAAEF,KAAKZ,GAAGE,EAAE/J,KAAK6J,EAAE7J,KAAK+J,EAAEvD,OAAOqD,EAAErD,KAAKmE,EAAEF,QAAG,OAAY,IAAIhB,EAAE,EAAEA,EAAEmB,EAAEnB,IAAI,CAAC,IAAII,EAAEc,EAAElB,KAAKM,EAAE/J,KAAK6J,EAAE7J,KAAK+J,EAAEvD,OAAOqD,EAAErD,KAAK,CAACmE,EAAElB,QAAG,EAAO,MAAMI,EAAE,KAAKG,EAAEI,EAAEvC,EAAEkC,EAAEF,EAAEA,GAAG5B,EAAEF,EAAEC,EAAEpB,EAAEsB,EAAEC,EAAEK,IAAIiB,EAAEM,EAAE3C,MAAMyC,EAAEzC,KAAKqC,IAAIiB,IAAIA,EAAE,IAAIb,EAAEzC,KAAKsD,EAAEzG,KAAK4F,EAAEzC,IAAI,KAAK2C,GAAGW,EAAEzG,KAAKwF,EAAEM,EAAEZ,KAAKa,EAAED,IAAI,MAAMC,GAAG,MAAMQ,IAAIA,EAAER,GAAG7B,EAAE0C,EAAEhD,EAAEkC,EAAEF,EAAEc,EAAE/D,EAAEoD,EAAE7B,GAAGK,GAAG,UAAUV,EAAEtB,KAAK,mBAAmBsB,EAAEtB,OAAOsB,EAAEoB,IAAIf,GAAGN,EAAEiD,MAAM,IAAI3C,GAAG0B,EAAEZ,KAAKd,GAAGA,EAAEG,YAAYT,IAAIM,EAAEyB,EAAEC,IAAI,GAAG/B,EAAEmB,IAAIuB,EAAE,MAAM5D,GAAG,mBAAmBkB,EAAEtB,KAAK,IAAIiE,EAAE7D,EAAE/J,OAAO4N,KAAK,MAAM7D,EAAE6D,IAAIpC,EAAEzB,EAAE6D,IAAI,IAAIA,EAAEG,EAAEH,KAAK,MAAME,EAAEF,IAAIM,GAAEJ,EAAEF,GAAGE,EAAEF,IAAI,GAAGC,EAAE,IAAID,EAAE,EAAEA,EAAEC,EAAE7N,OAAO4N,IAAIO,GAAEN,EAAED,GAAGC,IAAID,GAAGC,IAAID,IAA4H,SAASI,EAAEhD,EAAEO,EAAEN,EAAElL,EAAEmL,EAAEC,EAAEpB,GAAG,IAAIqB,EAAE/G,EAAEgH,EAAE,QAAG,IAASE,EAAEc,IAAIjB,EAAEG,EAAEc,IAAId,EAAEc,SAAI,OAAY,GAAGnB,GAAGD,GAAGE,GAAGpB,GAAG,MAAMoB,EAAEM,WAAWT,EAAE,GAAG,MAAMjB,GAAGA,EAAE0B,aAAaT,EAAEA,EAAE1F,YAAY6F,GAAGC,EAAE,SAAS,CAAC,IAAI/G,EAAE0F,EAAEsB,EAAE,GAAGhH,EAAEA,EAAE+J,cAAc/C,EAAEtL,EAAEC,OAAOqL,GAAG,EAAE,GAAGhH,GAAG8G,EAAE,MAAMH,EAAEA,EAAEJ,aAAaO,EAAEpB,GAAGqB,EAAErB,EAAE,YAAO,IAASqB,EAAEA,EAAED,EAAEiD,YAAuO,SAASL,EAAE/C,EAAEO,EAAEN,GAAG,MAAMM,EAAE,GAAGP,EAAEqD,YAAY9C,EAAEN,GAAGD,EAAEO,GAAG,MAAMN,EAAE,GAAG,iBAAiBA,GAAGI,EAAEpJ,KAAKsJ,GAAGN,EAAEA,EAAE,KAAK,SAASqD,EAAEtD,EAAEO,EAAEN,EAAElL,EAAEmL,GAAG,IAAIC,EAAEpB,EAAEqB,EAAE,GAAGF,GAAG,aAAaK,IAAIA,EAAE,SAAS,UAAUA,EAAE,GAAG,iBAAiBN,EAAED,EAAEN,MAAMI,QAAQG,MAAM,CAAC,GAAG,iBAAiBlL,IAAIiL,EAAEN,MAAMI,QAAQ/K,EAAE,IAAIA,EAAE,IAAIwL,KAAKxL,EAAEkL,GAAGM,KAAKN,GAAG8C,EAAE/C,EAAEN,MAAMa,EAAE,IAAI,GAAGN,EAAE,IAAIM,KAAKN,EAAElL,GAAGkL,EAAEM,KAAKxL,EAAEwL,IAAIwC,EAAE/C,EAAEN,MAAMa,EAAEN,EAAEM,QAAQ,MAAMA,EAAE,IAAI,MAAMA,EAAE,IAAIJ,EAAEI,KAAKA,EAAEA,EAAE9K,QAAQ,WAAW,MAAMsJ,EAAEwB,EAAEgD,iBAAiBvD,IAAIO,EAAExB,GAAGwB,EAAEA,EAAEpJ,MAAM,GAAG6I,EAAEO,IAAIP,EAAEO,EAAE,IAAIP,EAAEO,EAAEA,EAAEJ,GAAGF,EAAEG,EAAED,EAAEqD,EAAEC,EAAExD,EAAElL,GAAGiL,EAAE0D,iBAAiBnD,EAAEH,EAAED,GAAGH,EAAE2D,oBAAoBpD,EAAEH,EAAED,IAAI,SAASI,GAAG,YAAYA,GAAG,SAASA,GAAG,SAASA,GAAG,SAASA,GAAG,aAAaA,GAAG,SAASA,IAAIL,GAAGK,KAAKP,EAAEA,EAAEO,GAAG,MAAMN,EAAE,GAAGA,EAAE,mBAAmBA,GAAG,4BAA4BM,IAAIA,KAAKA,EAAEA,EAAE9K,QAAQ,UAAU,KAAK,MAAMwK,IAAG,IAAKA,EAAED,EAAE4D,kBAAkB,+BAA+BrD,EAAEgD,eAAevD,EAAE6D,eAAe,+BAA+BtD,EAAEgD,cAActD,GAAG,MAAMA,IAAG,IAAKA,IAAI,MAAMhJ,KAAKsJ,GAAGP,EAAE8D,gBAAgBvD,GAAGP,EAAE5F,aAAamG,EAAEN,IAAI,SAASwD,EAAElD,GAAGsB,KAAKtB,EAAEA,EAAE5B,MAAK,GAAIqB,EAAE+D,MAAM/D,EAAE+D,MAAMxD,GAAGA,GAAG,SAASiD,EAAEjD,GAAGsB,KAAKtB,EAAEA,EAAE5B,MAAK,GAAIqB,EAAE+D,MAAM/D,EAAE+D,MAAMxD,GAAGA,GAAG,SAASyD,EAAEhE,EAAEO,EAAEN,GAAG,IAAIlL,EAAEmL,EAAE,IAAInL,EAAE,EAAEA,EAAEiL,EAAEiB,IAAIjM,OAAOD,KAAKmL,EAAEF,EAAEiB,IAAIlM,MAAMmL,EAAEgB,GAAGlB,EAAEE,EAAEkB,MAAM,mBAAmBlB,EAAEvB,MAAMuB,EAAEe,IAAIjM,OAAO,GAAGgP,EAAE9D,EAAEK,EAAEN,GAAGM,EAAEyC,EAAE/C,EAAEC,EAAEA,EAAEF,EAAEiB,IAAI,KAAKf,EAAEkB,IAAIb,GAAG,mBAAmBP,EAAErB,OAAOqB,EAAEqB,IAAId,KAAK,SAASgC,EAAEhC,EAAEN,EAAElL,EAAEmL,EAAEC,EAAEpB,EAAEqB,EAAE/G,EAAEgH,GAAG,IAAIG,EAAEG,EAAEI,EAAE6B,EAAEb,EAAEC,EAAEE,EAAEC,EAAEU,EAAEG,EAAEF,EAAEC,EAAE9C,EAAEtB,KAAK,QAAG,IAASsB,EAAEuB,YAAY,OAAO,KAAK,MAAMzM,EAAEwM,MAAMlB,EAAEtL,EAAEwM,IAAIlI,EAAE4G,EAAEmB,IAAIrM,EAAEqM,IAAInB,EAAEsB,IAAI,KAAKxC,EAAE,CAAC1F,KAAKmH,EAAER,EAAEmB,MAAMX,EAAEP,GAAG,IAAID,EAAE,GAAG,mBAAmB+C,EAAE,CAAC,GAAGZ,EAAElC,EAAEe,MAAM6B,GAAGrC,EAAEuC,EAAEkB,cAAc/D,EAAEM,EAAEc,KAAK0B,EAAExC,EAAEqC,EAAEA,EAAE7B,MAAMiC,MAAMzC,EAAEU,GAAGhB,EAAEnL,EAAEuM,IAAIY,GAAGvB,EAAEV,EAAEqB,IAAIvM,EAAEuM,KAAKJ,GAAGP,EAAEuD,KAAK,cAAcnB,GAAGA,EAAEjI,UAAUqJ,OAAOlE,EAAEqB,IAAIX,EAAE,IAAIoC,EAAEZ,EAAEa,IAAI/C,EAAEqB,IAAIX,EAAE,IAAIiB,EAAEO,EAAEa,GAAGrC,EAAEa,YAAYuB,EAAEpC,EAAEwD,OAAOC,IAAGvB,GAAGA,EAAEwB,IAAI1D,GAAGA,EAAEK,MAAMmB,EAAExB,EAAE2D,QAAQ3D,EAAE2D,MAAM,IAAI3D,EAAEmB,QAAQkB,EAAErC,EAAE6B,IAAItC,EAAEa,EAAEJ,EAAEU,KAAI,EAAGV,EAAEY,IAAI,IAAI,MAAMZ,EAAE4D,MAAM5D,EAAE4D,IAAI5D,EAAE2D,OAAO,MAAMvB,EAAEyB,2BAA2B7D,EAAE4D,KAAK5D,EAAE2D,QAAQ3D,EAAE4D,IAAIjE,EAAE,GAAGK,EAAE4D,MAAMjE,EAAEK,EAAE4D,IAAIxB,EAAEyB,yBAAyBrC,EAAExB,EAAE4D,OAAO3B,EAAEjC,EAAEK,MAAMe,EAAEpB,EAAE2D,MAAMvD,EAAE,MAAMgC,EAAEyB,0BAA0B,MAAM7D,EAAE8D,oBAAoB9D,EAAE8D,qBAAqB,MAAM9D,EAAE+D,mBAAmB/D,EAAEY,IAAInF,KAAKuE,EAAE+D,uBAAuB,CAAC,GAAG,MAAM3B,EAAEyB,0BAA0BrC,IAAIS,GAAG,MAAMjC,EAAEgE,2BAA2BhE,EAAEgE,0BAA0BxC,EAAEa,IAAIrC,EAAES,KAAK,MAAMT,EAAEiE,wBAAuB,IAAKjE,EAAEiE,sBAAsBzC,EAAExB,EAAE4D,IAAIvB,IAAI/C,EAAEwB,MAAM1M,EAAE0M,IAAI,CAACd,EAAEK,MAAMmB,EAAExB,EAAE2D,MAAM3D,EAAE4D,IAAItE,EAAEwB,MAAM1M,EAAE0M,MAAMd,EAAEU,KAAI,GAAIV,EAAEc,IAAIxB,EAAEA,EAAEmB,IAAIrM,EAAEqM,IAAInB,EAAEgB,IAAIlM,EAAEkM,IAAIN,EAAEY,IAAIvM,QAAQoL,EAAEhE,KAAKuE,GAAGqD,EAAE/D,EAAE5G,EAAEkH,GAAG,MAAMP,EAAE,MAAMW,EAAEkE,qBAAqBlE,EAAEkE,oBAAoB1C,EAAExB,EAAE4D,IAAIvB,GAAG,MAAMrC,EAAEmE,oBAAoBnE,EAAEY,IAAInF,MAAK,WAAWuE,EAAEmE,mBAAmBlC,EAAEb,EAAEC,MAAKrB,EAAEmB,QAAQkB,EAAErC,EAAEK,MAAMmB,EAAExB,EAAE2D,MAAM3D,EAAE4D,KAAK/D,EAAER,EAAEoC,MAAM5B,EAAEP,GAAGU,EAAEU,KAAI,EAAGV,EAAEc,IAAIxB,EAAEU,EAAE2B,IAAI/B,EAAEC,EAAEG,EAAEwD,OAAOxD,EAAEK,MAAML,EAAE2D,MAAM3D,EAAEmB,SAASnB,EAAE2D,MAAM3D,EAAE4D,IAAI,MAAM5D,EAAEoE,kBAAkB7E,EAAEI,EAAEA,EAAE,GAAGJ,GAAGS,EAAEoE,oBAAoBhE,GAAG,MAAMJ,EAAEqE,0BAA0BhD,EAAErB,EAAEqE,wBAAwBpC,EAAEb,IAAIe,EAAE,MAAMtC,GAAGA,EAAE7B,MAAMgD,GAAG,MAAMnB,EAAErI,IAAIqI,EAAEQ,MAAMH,SAASL,EAAEmC,EAAEpC,EAAE1L,MAAMC,QAAQgO,GAAGA,EAAE,CAACA,GAAG7C,EAAElL,EAAEmL,EAAEC,EAAEpB,EAAEqB,EAAE/G,EAAEgH,GAAGM,EAAEsB,KAAKhC,EAAEmB,IAAInB,EAAEsB,IAAI,KAAKZ,EAAEY,IAAIvM,QAAQoL,EAAEhE,KAAKuE,GAAGuB,IAAIvB,EAAEuD,IAAIvD,EAAEO,GAAG,MAAMP,EAAES,KAAI,OAAQ,MAAMrC,GAAGkB,EAAEwB,MAAM1M,EAAE0M,KAAKxB,EAAEgB,IAAIlM,EAAEkM,IAAIhB,EAAEmB,IAAIrM,EAAEqM,KAAKnB,EAAEmB,IAAI6D,GAAElQ,EAAEqM,IAAInB,EAAElL,EAAEmL,EAAEC,EAAEpB,EAAEqB,EAAEC,IAAIG,EAAER,EAAEkF,SAAS1E,EAAEP,GAAG,MAAMM,GAAGN,EAAEwB,IAAI,MAAMpB,GAAG,MAAMtB,KAAKkB,EAAEmB,IAAI/H,EAAE4G,EAAEsB,MAAMlB,EAAEtB,EAAEA,EAAE9J,QAAQoE,IAAI,MAAM2G,EAAEoB,IAAIb,EAAEN,EAAElL,GAAG,OAAOkL,EAAEmB,IAAI,SAASsB,GAAEnC,EAAEN,GAAGD,EAAEsB,KAAKtB,EAAEsB,IAAIrB,EAAEM,GAAGA,EAAElJ,MAAK,SAAS4I,GAAG,IAAIM,EAAEN,EAAEsB,IAAItB,EAAEsB,IAAI,GAAGhB,EAAElJ,MAAK,SAAS2I,GAAGA,EAAEhF,KAAKiF,MAAK,MAAMM,GAAGP,EAAEoB,IAAIb,EAAEN,EAAEwB,SAAQ,SAASwD,GAAEjF,EAAEO,EAAEN,EAAElL,EAAEmL,EAAEC,EAAEpB,EAAEsB,GAAG,IAAIC,EAAEE,EAAEG,EAAEI,EAAE6B,EAAEjB,EAAE1B,EAAEe,MAAMY,EAAErB,EAAES,MAAM,GAAGd,EAAE,QAAQK,EAAE5B,MAAMuB,EAAE,MAAMC,EAAE,IAAIG,EAAE,EAAEA,EAAEH,EAAEnL,OAAOsL,IAAI,GAAG,OAAOE,EAAEL,EAAEG,OAAO,OAAOC,EAAE5B,KAAK,IAAI6B,EAAE2E,SAAS3E,EAAE4E,YAAY7E,EAAE5B,OAAOqB,GAAGQ,GAAG,CAACR,EAAEQ,EAAEL,EAAEG,GAAG,KAAK,MAAM,GAAG,MAAMN,EAAE,CAAC,GAAG,OAAOO,EAAE5B,KAAK,OAAOxI,SAAS4J,eAAe6B,GAAG5B,EAAEE,EAAE/J,SAASkP,gBAAgB,6BAA6B9E,EAAE5B,MAAMxI,SAASgE,cAAcoG,EAAE5B,KAAKiD,EAAE0D,IAAI,CAACA,GAAG1D,EAAE0D,KAAKnF,EAAE,KAAKE,GAAE,EAAG,GAAG,OAAOE,EAAE5B,KAAKgD,IAAIC,GAAGvB,GAAGL,EAAEuF,OAAO3D,IAAI5B,EAAEuF,KAAK3D,OAAO,CAAC,GAAG,MAAMzB,IAAIA,EAAE9G,EAAElC,MAAM6D,KAAKgF,EAAEwF,aAAa7E,GAAGgB,EAAE1B,EAAEe,OAAOZ,GAAGqF,wBAAwB1E,EAAEa,EAAE6D,yBAAyBpF,EAAE,CAAC,GAAG,MAAMF,EAAE,IAAIwB,EAAE,GAAGiB,EAAE,EAAEA,EAAE5C,EAAE0F,WAAW1Q,OAAO4N,IAAIjB,EAAE3B,EAAE0F,WAAW9C,GAAGxN,MAAM4K,EAAE0F,WAAW9C,GAAGK,OAAOlC,GAAGJ,KAAKI,IAAIJ,GAAGI,EAAE4E,QAAQhF,EAAEgF,QAAQ5E,EAAE4E,SAAS3F,EAAE4F,aAAa5F,EAAE4F,UAAU7E,GAAGA,EAAE4E,QAAQ,MAAlvI,SAAW3F,EAAEO,EAAEN,EAAElL,EAAEmL,GAAG,IAAIC,EAAE,IAAIA,KAAKF,EAAE,aAAaE,GAAG,QAAQA,GAAGA,KAAKI,GAAG+C,EAAEtD,EAAEG,EAAE,KAAKF,EAAEE,GAAGpL,GAAG,IAAIoL,KAAKI,EAAEL,GAAG,mBAAmBK,EAAEJ,IAAI,aAAaA,GAAG,QAAQA,GAAG,UAAUA,GAAG,YAAYA,GAAGF,EAAEE,KAAKI,EAAEJ,IAAImD,EAAEtD,EAAEG,EAAEI,EAAEJ,GAAGF,EAAEE,GAAGpL,IAA+hI+N,CAAE9C,EAAE4B,EAAED,EAAEzB,EAAEG,GAAGU,EAAER,EAAEU,IAAI,IAAIX,EAAEC,EAAES,MAAMH,SAAS8B,EAAE3C,EAAEnL,MAAMC,QAAQwL,GAAGA,EAAE,CAACA,GAAGC,EAAEN,EAAElL,EAAE,kBAAkBwL,EAAE5B,MAAMuB,EAAEC,EAAEpB,EAAEqB,EAAEC,IAAIA,IAAI,UAAUuB,QAAG,KAAUtB,EAAEsB,EAAEqB,SAAS3C,IAAIN,EAAEiD,OAAO,aAAa1C,EAAE5B,OAAO2B,IAAIgD,EAAEtD,EAAE,QAAQM,EAAEqB,EAAEsB,OAAM,GAAI,YAAYrB,QAAG,KAAUtB,EAAEsB,EAAEiE,UAAUvF,IAAIN,EAAE6F,SAASvC,EAAEtD,EAAE,UAAUM,EAAEqB,EAAEkE,SAAQ,IAAK,OAAO7F,EAAE,SAASmD,GAAE5C,EAAEN,EAAElL,GAAG,IAAI,mBAAmBwL,EAAEA,EAAEN,GAAGM,EAAEuF,QAAQ7F,EAAE,MAAMM,GAAGP,EAAEoB,IAAIb,EAAExL,IAAI,SAASmO,GAAE3C,EAAEN,EAAElL,GAAG,IAAImL,EAAEC,EAAEpB,EAAE,GAAGiB,EAAE+F,SAAS/F,EAAE+F,QAAQxF,IAAIL,EAAEK,EAAEhB,OAAOW,EAAE4F,SAAS5F,EAAE4F,UAAUvF,EAAEa,KAAK+B,GAAEjD,EAAE,KAAKD,IAAIlL,GAAG,mBAAmBwL,EAAE5B,OAAO5J,EAAE,OAAOoL,EAAEI,EAAEa,MAAMb,EAAEa,IAAIb,EAAEc,SAAI,EAAO,OAAOnB,EAAEK,EAAEe,KAAK,CAAC,GAAGpB,EAAE8F,qBAAqB,IAAI9F,EAAE8F,uBAAuB,MAAMzF,GAAGP,EAAEoB,IAAIb,EAAEN,GAAGC,EAAE+B,KAAK/B,EAAEoC,IAAI,KAAK,GAAGpC,EAAEK,EAAEU,IAAI,IAAIlC,EAAE,EAAEA,EAAEmB,EAAElL,OAAO+J,IAAImB,EAAEnB,IAAImE,GAAEhD,EAAEnB,GAAGkB,EAAElL,GAAG,MAAMoL,GAAGK,EAAEL,GAAG,SAASiE,GAAEpE,EAAEO,EAAEN,GAAG,OAAO4B,KAAKL,YAAYxB,EAAEC,GAAG,SAASgG,GAAE1F,EAAEN,EAAElL,GAAG,IAAImL,EAAEnB,EAAEsB,EAAEL,EAAEkB,IAAIlB,EAAEkB,GAAGX,EAAEN,GAAGlB,GAAGmB,EAAEnL,IAAIoL,GAAG,KAAKpL,GAAGA,EAAEkM,KAAKhB,EAAEgB,IAAIV,EAAEI,EAAEgB,EAAE,KAAK,CAACpB,IAAIF,EAAE,GAAGkC,EAAEtC,GAAGC,EAAED,EAAElL,GAAGkL,GAAGgB,IAAIV,EAAExB,GAAGqB,EAAEA,OAAE,IAASH,EAAEwC,gBAAgB1N,IAAImL,EAAE,CAACnL,GAAGgK,EAAE,KAAKkB,EAAEuF,WAAWxQ,OAAOqE,EAAElC,MAAM6D,KAAKiF,EAAEuF,YAAY,KAAKnF,EAAEtL,GAAGqL,EAAEF,GAAGwC,GAAErC,EAAEE,GAAkvBP,EAAE,CAACoB,IAAI,SAASpB,EAAEO,GAAG,IAAI,IAAIN,EAAElL,EAAEmL,EAAEC,EAAEI,EAAEgB,IAAIhB,EAAEA,EAAEW,IAAI,IAAIjB,EAAEM,EAAEe,OAAOrB,EAAEiB,GAAG,IAAI,IAAInM,EAAEkL,EAAEuB,cAAc,MAAMzM,EAAEmR,2BAA2BjG,EAAEkG,SAASpR,EAAEmR,yBAAyBlG,IAAIE,EAAED,EAAEoB,KAAK,MAAMpB,EAAEmG,oBAAoBnG,EAAEmG,kBAAkBpG,GAAGE,EAAED,EAAEoB,KAAKnB,EAAE,OAAOK,EAAEgB,IAAIpB,EAAEF,EAAEiE,IAAIjE,EAAE,MAAMM,GAAGP,EAAEO,EAAE,MAAMP,GAAGyB,IAAI,GAAyDG,EAAE9G,UAAUqL,SAAS,SAASnG,EAAEO,GAAG,IAAIN,EAAEA,EAAE,MAAM4B,KAAK0C,KAAK1C,KAAK0C,MAAM1C,KAAKyC,MAAMzC,KAAK0C,IAAI1C,KAAK0C,IAAIjE,EAAE,GAAGuB,KAAKyC,OAAO,mBAAmBtE,IAAIA,EAAEA,EAAEM,EAAE,GAAGL,GAAG4B,KAAKb,QAAQhB,GAAGM,EAAEL,EAAED,GAAG,MAAMA,GAAG6B,KAAKJ,MAAMlB,GAAGsB,KAAKN,IAAInF,KAAKmE,GAAG2B,EAAEL,QAAQD,EAAE9G,UAAUuL,YAAY,SAASrG,GAAG6B,KAAKJ,MAAMI,KAAKT,KAAI,EAAGpB,GAAG6B,KAAKN,IAAInF,KAAK4D,GAAGkC,EAAEL,QAAQD,EAAE9G,UAAUqJ,OAAOxC,EAAE1B,EAAE,GAAGlL,EAAE,mBAAmBwG,QAAQA,QAAQT,UAAUa,KAAK2K,KAAK/K,QAAQC,WAAWwC,WAAWmE,EAAEC,IAAI,EAAEjC,EAAEC,MCEhtTmG,8MACK,eAEhBC,EADQ,IAAI7Q,gCACEE,KAAK4Q,EAAKzF,MAAM0F,OAAOC,oBAEzCH,GACAC,EAAKzF,MAAM0F,OAAOC,cAChBrR,OAAOwC,mBAAmBI,eACxBuO,EAAKzF,MAAM0F,OAAO1O,WAClBwO,EAAM,IAGHA,EAAM,GACJC,EAAKzF,MAAM0F,OAAOC,YACpBF,EAAKzF,MAAM0F,OAAOC,YAElB,qBAGH,CACNA,YAAaF,EAAKG,wBAClB5O,WAAY,sBAEJ,4BACK,+BAkJE,SAAC6O,KACXC,QAAUD,mCAGK,SAACA,KAChBE,aAAeF,yBAGV,SAACA,KACNG,SAAWH,4BAGH,SAACI,GACdA,EAAIC,iBAEFT,EAAKzF,MAAM0F,OAAO1O,YAClB1C,OAAOwC,mBAAmB/B,WAAW0Q,EAAKzF,MAAM0F,OAAO1O,aAEvD1C,OAAOwC,mBAAmB8B,eAAe6M,EAAKzF,MAAM0F,OAAO1O,YAEzDyO,EAAKzF,MAAM0F,OAAOS,QACfnG,MAAMoG,aAAaX,EAAKnC,MAAMtM,WAAYyO,EAAKnC,MAAMqC,eAErD3F,MAAMqG,gBAAgBZ,EAAKnC,MAAMqC,wCAI1B,eACR3O,EAAayO,EAAKzF,MAAM0F,OAAOS,MACjCV,EAAKnC,MAAMtM,WACXyO,EAAKzF,MAAM0F,OAAO1O,kBACf/B,GAAUgB,KAAKwP,EAAKnC,MAAMqC,aAC7BrR,OAAOwC,mBAAmBI,eACxBF,EACAyO,EAAKnC,MAAMqC,aAEbF,EAAKnC,MAAMqC,iCAGP,SAACM,GACO,WAAZA,EAAI9O,MACN8O,EAAIK,oBACCtG,MAAMuG,uCAIG,YACGd,EAAKM,cAAgBN,EAAKK,SAClCU,sCAGK,aACXrB,SAAS,CAAEnO,WAAY,KAAM,aAC3ByP,6CAII,aACNtB,SAAS,CAAEQ,YAAa,KAAM,aAC5Bc,qFA3MFA,uBACAT,SAAStD,iBAAiB,UAAW7B,KAAK6F,oDAE9BC,EAAWC,cACxB/F,KAAKb,MAAM0F,SAAWiB,EAAUjB,aAC7BP,SACH,CAAEQ,YAAa9E,KAAKb,MAAM0F,OAAOC,aAAe,KAChD,WACEkB,EAAKJ,yEAMNT,SAASrD,oBAAoB,UAAW9B,KAAK6F,sDAE3ChB,IAAAA,cAEL3F,SAAK+G,UAAU,uBACb/G,SAAK+G,UAAU,cACf/G,YACE+G,sCACEjG,KAAKyC,MAAMqC,YAAY3R,OAAS,EAAI,iBAAmB,eAEzD+S,QACAxI,IAAKsC,KAAKmG,WAEVjH,UAAMkH,OAAO,SAASC,SAAUrG,KAAKsG,cACnCpH,QAAIrB,MAAO,CAAE0I,UAAW,IAAM1B,EAAO1O,YACrC+I,eACEA,gBACI2F,EAAOS,OACPpG,YACEA,4BACAA,YAAK2F,EAAO2B,aAGf3B,EAAOS,OACNpG,YACEA,YACEA,UAAMtC,GAAG,sCAEXsC,QAAIrB,MAAO,CAAE4I,SAAU,aACrBvH,WACEpC,KAAK,OACL4J,SAAU,EACVtF,MAAOpB,KAAKyC,MAAMtM,6BACF,oBAChBwQ,QAAS,SAACvB,UACRwB,EAAKtC,SAAS,CAAEnO,WAAYiP,EAAIyB,OAAOzF,SAEzC1D,IAAKsC,KAAK8G,oBACVC,cAEF7H,SACE8H,KAAK,SACLN,SAAU,EACVT,UAAU,kBACVgB,QAASjH,KAAKkH,iBAEdhI,aAAM,QAKdA,YACEA,YACEA,UAAMtC,GAAG,wCAEXsC,QAAIrB,MAAO,CAAE4I,SAAU,aACrBvH,WACExB,IAAKsC,KAAKmH,eACVrK,KAAK,OACLsE,MAAOpB,KAAKyC,MAAMqC,8BACF,qBAChB4B,SAAU,EACVC,QAAS,SAACvB,UACRwB,EAAKtC,SAAS,CAAEQ,YAAaM,EAAIyB,OAAOzF,WAG5ClC,SACE8H,KAAK,SACLN,SAAU,EACVT,UAAU,kBACVgB,QAASjH,KAAKoH,YAEdlI,aAAM,QAIX9K,GAAUgB,KAAK4K,KAAKyC,MAAMqC,cACzB5F,YACEA,4BACAA,YAAKc,KAAKqH,oBAKlBnI,SAAK+G,UAAU,sBACb/G,YACEpC,KAAK,SACL4J,SAAU,EACVO,QAASjH,KAAKb,MAAMuG,OACpB7H,MAAO,CAAEyJ,YAAa,mBAIvBtH,KAAKb,MAAM0F,OAAOC,cAAgB9E,KAAKb,MAAM0F,OAAO0C,UACnDrI,YACEpC,KAAK,SACLmK,QAAS,WACHL,EAAKzH,MAAM0F,OAAO0C,SACpB9T,OAAOwC,mBAAmB8B,eACxB6O,EAAKzH,MAAM0F,OAAO1O,YAGpB1C,OAAOwC,mBAAmBwE,gBACxBmM,EAAKzH,MAAM0F,OAAO1O,YAGtByQ,EAAKzH,MAAMuG,UAEbgB,SAAU,EACV7I,MAAO,CAAEyJ,YAAa,SAErBtH,KAAKb,MAAM0F,OAAO0C,SAAW,SAAW,uBAG7CrI,YACEpC,KAAK,SACL4J,SAAU,EACVT,UACEjG,KAAKyC,MAAMqC,YAAc,iBAAmB,eAG7C9E,KAAKyC,MAAMqC,YAAc,iBAAmB,+BAjKnB0C,GA0OpCpT,GAAY,QC1OGqT,6LACX,CACNjU,IAAKoR,EAAKzF,MAAMuI,kBAAkBpC,MAC9B,GACAV,EAAKzF,MAAMuI,kBAAkBlU,uBAEzB,6BAkEK,SAAC4R,GACdA,EAAIC,iBAECT,EAAKzF,MAAMuI,kBAAkBpC,OAChC7R,OAAOwC,mBAAmBmF,uBACxBwJ,EAAKzF,MAAMuI,kBAAkBlU,KAI7BoR,EAAKnC,MAAMjP,KACbC,OAAOwC,mBAAmBgF,oBAAoB2J,EAAKnC,MAAMjP,OAGtD2L,MAAMuG,8BAEH,SAACN,GACO,WAAZA,EAAI9O,MACN8O,EAAIK,oBACCtG,MAAMuG,0EAlFRT,QAAQ0C,aACRxC,SAAStD,iBAAiB,UAAW7B,KAAK6F,6DAG1CV,SAASrD,oBAAoB,UAAW9B,KAAK6F,4DAIhD3G,SAAK+G,UAAU,uBACb/G,SAAK+G,UAAU,cACf/G,YACE+G,UAAU,oBACVC,QACAxI,IAAK,SAACsH,UAAQgB,EAAKb,SAAWH,IAE9B9F,UAAMkH,OAAO,SAASC,SAAUrG,KAAKsG,cACnCpH,QAAIrB,MAAO,CAAE0I,UAAW,IACrBvG,KAAKb,MAAMuI,kBAAkBpC,MAC1B,0BACA,4BAENpG,SAAKrB,MAAO,CAAE+J,aAAc,SAC1B1I,WAAO2I,QAAQ,gDACf3I,UAAMrB,MAAO,CAAE4I,SAAU,aACvBvH,WACEtC,GAAG,yBACHE,KAAK,OACLsE,MAAOpB,KAAKyC,MAAMjP,IAClBmT,QAAS,SAACvB,UAAQY,EAAK1B,SAAS,CAAE9Q,IAAK4R,EAAIyB,OAAOzF,SAClD1D,IAAK,SAACsH,UAAQgB,EAAKf,QAAUD,GAC7B+B,SAAU/G,KAAKb,MAAMuI,kBAAkBpC,QAEzCpG,SACE8H,KAAK,SACLN,SAAU,EACVT,UAAU,kBACVgB,QAAS,kBAAMjB,EAAK1B,SAAS,CAAE9Q,IAAK,OAEpC0L,aAAM,QAIZA,SAAK+G,UAAU,sBACb/G,YACEpC,KAAK,SACLmK,QAASjH,KAAKb,MAAMuG,OACpB7H,MAAO,CAAEyJ,YAAa,mBAIxBpI,YACEpC,KAAK,SACLmJ,UAAWjG,KAAKyC,MAAMjP,IAAM,iBAAmB,eAE9CwM,KAAKyC,MAAMjP,KAAOwM,KAAKb,MAAMuI,kBAAkBpC,MAC5C,iBACA,8BAhE2BkC,GCA1BM,6IAEjBrU,OAAOwC,mBAAmB8D,oBAAoBD,KAAKiO,4CAG5C,YALkCP,GASvCQ,GAAY,SAACxU,UAAQA,EAAII,QAAQ,UAAW,QAErCqU,GAAU,CACrBC,MAAO,SAAC1U,UAAQA,EAAII,QAAQ,iBAAkB,4BACjC,SAACJ,UAAQA,EAAII,QAAQ,iBAAkB,6BACtC,SAACJ,UAAQA,EAAII,QAAQ,oBAAqB,sBACxDuU,IAAKH,gBACSA,mBACGA,qBACEA,qBACAA,+BACUA,IAG/B,SAASD,GAAmBK,GAC1B3Q,OAAOC,KAAK0Q,EAAiBvR,SAC1BwE,QAAO,SAACgN,UAAYJ,GAAQI,MAC5B1Q,SAAQ,SAAC0Q,GACR5U,OAAOwC,mBAAmBC,YACxBmS,EACAJ,GAAQI,GAASD,EAAiBvR,QAAQwR,QAK3C,SAASC,YAEZ7Q,OAAOC,KAAKjE,OAAOwC,mBAAmBS,iBAAiBG,SAASwE,QAC9D,SAACgF,UAAO4H,GAAQ5H,MAChBlN,OAAS,MClCMoV,6LACX,CACNH,iBAAkB,CAAEvR,QAAS,IAC7B2R,eAAgB,CAAE3R,QAAS,IAC3B4R,YAAa,CAAE5R,QAAS,IACxB6R,aAAc,KACdhB,kBAAmB,KACnBiB,UAAW,sBAsXJ,aACFrE,SAAS,CAAEoE,aAAc,KAAMhB,kBAAmB,oCAGvC,SAACkB,GAGF,QAFfA,EAASA,GAAU,MAGjBnV,OAAOwC,mBAAmB2B,eACxBgN,EAAKnC,MAAMiG,aAAavS,YAG1B1C,OAAOwC,mBAAmBC,YACxB0O,EAAKnC,MAAMiG,aAAavS,WACxByS,KAICtE,SAAS,CAAEoE,aAAc,6BAGrB,aACJlE,cACL/Q,OAAOwC,mBAAmBuE,iBAAiBV,MAAK,SAAC2O,KAC1CnE,SAAS,CAAEmE,YAAAA,iCAIL,SAAClV,EAAMC,GAChBD,GAAQC,GACVC,OAAOwC,mBAAmBC,YAAY3C,EAAMC,KAEzC8Q,SAAS,CAAEoE,aAAc,sCAGZ,SAACvS,WACZyO,EAAKnC,MAAMkG,UAAUE,OAAO1V,OAAS,IACxCN,EAASsD,EAAYyO,EAAKnC,MAAMkG,iFAxZpClV,OAAOwC,mBAAmB+C,gBAAgBc,MAAK,SAACsO,GAC9CpC,EAAK1B,SAAS,CAAE8D,iBAAAA,OAElB3U,OAAOwC,mBAAmB8D,oBAAoBD,MAAK,SAAC0O,GAClDxC,EAAK1B,SAAS,CAAEkE,eAAAA,OAElB/U,OAAOwC,mBAAmBuE,iBAAiBV,MAAK,SAAC2O,GAC/CzC,EAAK1B,SAAS,CAAEmE,YAAAA,OAElBhV,OAAOoO,iBAAiB,8BAA+B7B,KAAK8I,eACvDC,SAASpB,uDAGdlU,OAAOqO,oBAAoB,8BAA+B9B,KAAK8I,qDAE9ChD,EAAWC,IACvBA,EAAU2C,cAAgB1I,KAAKyC,MAAMiG,mBACnCM,gBAAkB1U,SAASgE,cAAc,OAC9ChE,SAASkE,KAAKC,YAAYuH,KAAKgJ,iBAC/B1G,GACEpD,EAACwF,IACCG,OAAQ7E,KAAKyC,MAAMiG,aACnBhD,OAAQ1F,KAAK0F,OACbF,gBAAiBxF,KAAKwF,gBACtBD,aAAcvF,KAAKuF,eAErBvF,KAAKgJ,kBAEEjD,EAAU2C,eAAiB1I,KAAKyC,MAAMiG,eAC/CpG,GAAO,KAAMtC,KAAKgJ,sBACbA,gBAAgBC,gBACdjJ,KAAKgJ,kBAGTjD,EAAU2B,mBAAqB1H,KAAKyC,MAAMiF,wBACxCsB,gBAAkB1U,SAASgE,cAAc,OAC9ChE,SAASkE,KAAKC,YAAYuH,KAAKgJ,iBAC/B1G,GACEpD,EAACuI,IACCC,kBAAmB1H,KAAKyC,MAAMiF,kBAC9BhC,OAAQ1F,KAAK0F,SAEf1F,KAAKgJ,kBAEEjD,EAAU2B,oBAAsB1H,KAAKyC,MAAMiF,oBACpDpF,GAAO,KAAMtC,KAAKgJ,sBACbA,gBAAgBC,gBACdjJ,KAAKgJ,6DAIRE,EAAoB,GACxBC,EAAwB,GACxBpS,EAAoB,GACpBqS,EAAiB,GACjBC,EAA0B,GAC1BC,EAA+B,GAC/BC,EAAgB,GAEZC,EAAc/V,OAAOwC,mBAAmBS,gBAAe,GAAMG,QAE7D4S,EAAoBhS,OAAOC,KAAKsI,KAAKyC,MAAM2F,iBAAiBvR,SAE5D6S,EAAkBjW,OAAOwC,mBAAmBe,uBAElDyS,EAAkBpO,OAAO2E,KAAK2J,mBAAmBhS,SAAQ,SAACxB,OAClDyT,EAAM,CACVzT,WAAAA,EACAqQ,WAAYI,EAAKnE,MAAM2F,iBAAiBvR,QAAQV,GAChD2O,YAAa0E,EAAYrT,GACzBoR,SAAU1U,EAAS6W,EAAiBvT,IAElCyT,EAAIrC,SACNxQ,EAAkBwD,KAAKqP,GACdJ,EAAYrT,GAEnByQ,EAAKnE,MAAM+F,eAAe3R,QAAQV,KAClCqT,EAAYrT,GAGV8R,GAAQ9R,IACR8R,GAAQ9R,GACNyQ,EAAKnE,MAAM+F,eAAe3R,QAAQV,MAC9BqT,EAAYrT,GAElBoT,EAAchP,KAAKqP,GAEnBV,EAAkB3O,KAAKqP,GAGzBT,EAAsB5O,KAAKqP,GAG7BhD,EAAKnE,MAAM2F,iBAAiBvR,QAAQV,KACpCyQ,EAAKnE,MAAM+F,eAAe3R,QAAQV,GAElCiT,EAAe7O,KAAKqP,GAEpBhD,EAAKnE,MAAM2F,iBAAiBvR,QAAQV,KACpCyQ,EAAKnE,MAAMgG,YAAY5R,QAAQV,GAE/BmT,EAA6B/O,KAAKqP,GAElCP,EAAwB9O,KAAKqP,MAIjCnS,OAAOC,KAAK8R,GACTnO,OAAO2E,KAAK2J,mBACZhS,SAAQ,SAACxB,OACHtD,EAAS4W,EAAmBtT,GAAa,KACtCyT,EAAM,CACVzT,WAAAA,EACAqQ,WAAY,KACZ1B,YAAa0E,EAAYrT,GACzBoR,SAAU1U,EAAS6W,EAAiBvT,IAGlCyT,EAAIrC,SACNxQ,EAAkBwD,KAAKqP,GAEvBhD,EAAKnE,MAAM+F,eAAe3R,QAAQV,KAClCqT,EAAYrT,GAEZ+S,EAAkB3O,KAAKqP,GAEvBT,EAAsB5O,KAAKqP,OAKnCV,EAAkBlO,KAAK6O,IACvBT,EAAepO,KAAK6O,IACpBV,EAAsBnO,KAAK6O,UAwT/B,iBACQC,EAAkBrW,OAAOwC,mBAAmB6E,uBAC5CiP,EAAqBtW,OAAOwC,mBAAmBgE,kCAC/C+P,EAAa,GACjBC,EAAyB,GACzBC,EAAsB,kmBAEAJ,kCAAiB,KAAhCK,UACHtX,EAASY,OAAOwC,mBAAmB8F,oBAAqBoO,GAC1DH,EAAWzP,KAAK4P,GAEZtX,EAASkX,EAAoBI,GAC/BF,EAAuB1P,KAAK4P,GAE5BD,EAAoB3P,KAAK4P,wCAKxB,CACLH,WAAAA,EACAC,uBAAAA,EACAC,oBAAAA,GAxUIE,GAHFJ,IAAAA,WACAC,IAAAA,uBACAC,IAAAA,2BAIAhL,SAAK+G,UAAU,sBACb/G,SAAK+G,UAAU,4BACb/G,WACE+G,UAAU,+BACC,iBACXoE,YAAY,iBACZjJ,MAAOpB,KAAKyC,MAAMkG,UAClBhC,QAAS,SAACvB,UAAQwB,EAAKtC,SAAS,CAAEqE,UAAWvD,EAAIyB,OAAOzF,SACxD1D,IAAK,SAACA,UAASkJ,EAAKmC,SAAWrL,KAEjCwB,SAAK+G,UAAU,eACb/G,YACE+H,QAAS,kBACPL,EAAKtC,SAAS,CACZoE,aAAc,CAAEvS,WAAY,aAAcmP,OAAO,0BAOzDpG,SAAK+G,UAAU,eACb/G,YACE+H,QAAS,WACPL,EAAKtC,SAAS,CACZoD,kBAAmB,CAAElU,IAAK,GAAI8R,OAAO,0BAO7CpG,SAAK+G,UAAU,eACb/G,YAAQ+H,QAAS,kBAAMxT,OAAOwC,mBAAmB+B,4CAKrDkH,WAAO+G,UAAU,uBACf/G,eACEA,YACEA,6BACAA,2BACAA,sBACAA,0BAGJA,eACGiK,EAAsBxM,KAAI,SAACiN,UAC1B1K,QACE8H,KAAK,SACLN,SAAU,EACVO,QAAS,kBAAML,EAAKtC,SAAS,CAAEoE,aAAckB,KAC7CtT,IAAKsT,EAAIzT,YAET+I,YACEA,SAAK+G,UAAU,iCACf/G,gCACAA,SAAK+G,UAAU,uBAEjB/G,YAAK0K,EAAIzT,YACT+I,YAAKoL,GAASV,IACd1K,YAAKqL,GAAWX,QAGnBN,EAA6B3M,KAAI,SAACiN,UACjC1K,QACE8H,KAAK,SACLN,SAAU,EACVO,QAAS,kBAAML,EAAKtC,SAAS,CAAEoE,aAAckB,KAC7CtT,IAAKsT,EAAIzT,YAET+I,QAAIrB,MAAO,CAAE4I,SAAU,aACrBvH,SAAK+G,UAAU,gCACf/G,wBACAA,SAAK+G,UAAU,uBAEjB/G,YAAK0K,EAAIzT,YACT+I,YAAKoL,GAASV,IACd1K,YAAKqL,GAAWX,QAGnB7S,EAAkB4F,KAAI,SAACiN,UACtB1K,QACE8H,KAAK,SACLN,SAAU,EACVO,QAAS,kBAAML,EAAKtC,SAAS,CAAEoE,aAAckB,KAC7CtT,IAAKsT,EAAIzT,YAET+I,YACEA,SAAK+G,UAAU,qCACf/G,mCAEFA,YAAK0K,EAAIzT,YACT+I,YAAKoL,GAASV,IACd1K,YAAKqL,GAAWX,QAGnBV,EAAkBvM,KAAI,SAACiN,UACtB1K,QACE8H,KAAK,SACLN,SAAU,EACVO,QAAS,kBAAML,EAAKtC,SAAS,CAAEoE,aAAckB,KAC7CtT,IAAKsT,EAAIzT,YAET+I,YACEA,SAAK+G,UAAU,oCACf/G,iCAEFA,YAAK0K,EAAIzT,YACT+I,YAAKoL,GAASV,IACd1K,YAAKqL,GAAWX,QAGnBP,EAAwB1M,KAAI,SAACiN,UAC5B1K,QACE8H,KAAK,SACLN,SAAU,EACVO,QAAS,kBAAML,EAAKtC,SAAS,CAAEoE,aAAckB,KAC7CtT,IAAKsT,EAAIzT,YAET+I,YACEA,SAAK+G,UAAU,qCACf/G,mCAEFA,YAAK0K,EAAIzT,YACT+I,YAAKoL,GAASV,IACd1K,YAAKqL,GAAWX,QAGnBL,EAAc5M,KAAI,SAACiN,UAClB1K,QACE8H,KAAK,SACLN,SAAU,EACVO,QAAS,kBAAML,EAAKtC,SAAS,CAAEoE,aAAckB,KAC7CtT,IAAKsT,EAAIzT,WACTqU,MAAM,qDAENtL,YACEA,SAAK+G,UAAU,oCACf/G,kCAEFA,YAAK0K,EAAIzT,YACT+I,YAAKoL,GAASV,IACd1K,YAAKqL,GAAWX,QAGnBR,EAAezM,KAAI,SAACiN,UACnB1K,QACE8H,KAAK,SACLN,SAAU,EACVO,QAAS,kBAAML,EAAKtC,SAAS,CAAEoE,aAAckB,KAC7CtT,IAAKsT,EAAIzT,YAET+I,YACEA,SAAK+G,UAAU,kCACf/G,yBAEFA,YAAK0K,EAAIzT,YACT+I,YAAKoL,GAASV,IACd1K,YAAKqL,GAAWX,WAKtBI,EAAW7W,OAAS,GACpB8W,EAAuB9W,OAAS,GAChC+W,EAAoB/W,OAAS,IAC7B+L,WAAO+G,UAAU,uBACf/G,eACEA,iCACAA,oBAEFA,eACG8K,EAAWrN,KAAI,SAACnJ,UACf0L,QACE8H,KAAK,SACLN,SAAU,EACVO,QAAS,kBACPL,EAAKtC,SAAS,CAAEoD,kBAAmB,CAAEpC,OAAO,EAAO9R,IAAAA,MAErD8C,IAAK9C,GAEL0L,YACEA,SAAK+G,UAAU,qCACf/G,yBAEFA,YAAK1L,OAGR0W,EAAoBvN,KAAI,SAACnJ,UACxB0L,QACE8H,KAAK,SACLN,SAAU,EACVO,QAAS,kBACPL,EAAKtC,SAAS,CAAEoD,kBAAmB,CAAEpC,OAAO,EAAO9R,IAAAA,MAErD8C,IAAK9C,GAEL0L,YACEA,SAAK+G,UAAU,iCACf/G,iCAEFA,YAAK1L,OAGRyW,EAAuBtN,KAAI,SAACnJ,UAC3B0L,QACE8H,KAAK,SACLN,SAAU,EACVO,QAAS,kBACPL,EAAKtC,SAAS,CAAEoD,kBAAmB,CAAEpC,OAAO,EAAO9R,IAAAA,MAErD8C,IAAK9C,GAEL0L,YACEA,SAAK+G,UAAU,oCACf/G,0BAEFA,YAAK1L,iBAnXWgU,GAualC,SAASqC,GAAOY,EAAOC,UACdD,EAAMtU,WAAauU,EAAOvU,WAGnC,IAAMwU,GACHrW,SAASC,cAAc,SAAWD,SAASC,cAAc,QAAQZ,MAClED,SAASkX,OAAS,IAEpB,SAASN,GAASV,OACViB,EAASC,GAASlB,GAClBpW,EAAMuX,GAAMF,UACXrX,EAAMA,EAAIwX,KAAOH,EAG1B,SAASN,GAAWX,OACZiB,EAASC,GAASlB,GAClBpW,EAAMuX,GAAMF,UACXrX,EAAMA,EAAIyX,SAAS3V,MAAM9B,EAAIyX,SAASC,YAAY,KAAO,GAAKL,EAGvE,SAASC,GAASlB,UACTA,EAAI9E,aAAe8E,EAAIpD,WAGhC,SAASuE,GAAMF,cAEJ,IAAI3P,IAAI2P,EAAQF,IACvB,gBACO,UCtcUQ,iMASR,kBAAMvG,EAAKJ,2CA2BJ,SAACY,GACD,WAAZA,EAAI9O,KAAoBsO,EAAKzF,MAAMiM,SAChCjM,MAAMiM,mEApCb3X,OAAOoO,iBAAiB,UAAW7B,KAAKqL,iBACxC5X,OAAOoO,iBAAiB,8BAA+B7B,KAAK8I,yDAG5DrV,OAAOqO,oBAAoB,UAAW9B,KAAKqL,iBAC3C5X,OAAOqO,oBAAoB,8BAA+B9B,KAAK8I,yCAG1D3J,UAEHD,SAAK+G,UAAU,aACb/G,SAAK+G,UAAU,cACb/G,aACEA,oCACAA,8IAEmE,IACjEA,OACE2H,OAAO,SACPlT,KAAK,gGAOXuL,YAAQ+G,UAAU,eAAegB,QAAS9H,EAAMiM,OAC7C,MAGLlM,EAACqJ,IAAK+C,iBAAkBtL,KAAKb,MAAMmM,2BAhCR9D,GCGd+D,6LACX,CACNC,cAAc,uBAQL,kBAAM5G,EAAKJ,yCAgCN,aACTF,UAAS,SAACyB,SAAe,CAC5ByF,cAAezF,EAAUyF,+CAGV,aACZhH,sCAEM,eACLzJ,EAAoBrF,aAAaC,QACrC,wCAEKoF,EACmB,SAAtBA,EACA6J,EAAKzF,MAAM9G,cAActC,aAAa,4CAEvB,kBACf6O,EAAK6G,aACAnD,KAGL7Q,OAAOC,KAAKjE,OAAOwC,mBAAmBS,iBAAiBG,SAAS1D,OAChE,6DA3DJM,OAAOoO,iBAAiB,8BAA+B7B,KAAK8I,yDAG5DrV,OAAOqO,oBAAoB,8BAA+B9B,KAAK8I,yCAG1D3J,EAAOsD,UAETtD,EAAM9G,cAActC,aAAa,4BAG5B,SAFNL,aAAaC,QACXwJ,EAAM9G,cAAc1D,aAAa,4BAI5B,KAIPuK,aACEA,YACE+H,QAASjH,KAAK0L,cACdzF,6CACEjG,KAAK2L,qBAAuB,uBAAyB,KAGtD,SAEF3L,KAAKyL,cAAgBvM,EAAC4I,SACtBrF,EAAM+I,cACLtM,EAACiM,IACCC,MAAOpL,KAAK0L,cACZJ,iBAAkBtL,KAAKsL,2BApCC9D,GCgBpC,SAASoE,GAAoBC,OAAMC,yDAAqB,yJAG7CnT,kEAGL2J,GAAO,KAAMtC,WACR+L,WAAa,6DAMbpT,mEAGAoT,WAAazJ,GAChBpD,EAAE2M,EAAM,CAAExT,cAAe2H,OACzBA,KACAA,KAAK+L,gEATAD,WAT8BE,cAhBvCvY,OAAOwY,iBAAmB/X,IAC5BT,OAAOwY,eAAeC,OACpB,4BACAN,GAAoBL,GAAQ,CAAC,6BAE/B9X,OAAOwY,eAAeC,OACpB,6BACAN,GAAoBT,KAEtB1X,OAAOwY,eAAeC,OACpB,4BACAN,GAAoBrD"}